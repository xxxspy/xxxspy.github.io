<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Cache-Control" content="no-transform" />
    <meta http-equiv="Cache-Control" content="no-siteapp" />
    <meta name="applicable-device" content="pc,mobile">
    <meta name="MobileOptimized" content="width"/>
    <meta name="HandheldFriendly" content="true"/>
    <!--Description-->
    
        <meta name="description" content="专注于数据开发, 数据分析, 数据采集, python教学">
    

    <!--Author-->
    
        <meta name="author" content="xxxspy">
    

    <!--Open Graph Title-->
    
        <meta property="og:title" content="多层模型及其交互效应入门教程"/>
    

    <!--Open Graph Description-->
    
        <meta property="og:description" content="专注于数据开发, 数据分析, 数据采集, python教学" />
    

    <!--Open Graph Site Name-->
    <meta property="og:site_name" content="DataSense"/>

    <!--Type page-->
    
        <meta property="og:type" content="article" />
    

    <!--Page Cover-->
    

    <meta name="twitter:card" content="summary" />
    

    <!-- Title -->
    
    <title>多层模型及其交互效应入门教程 - DataSense</title>

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="//cdn.bootcdn.net/ajax/libs/twitter-bootstrap/4.0.0-alpha.2/css/bootstrap.min.css" integrity="sha384-y3tfxAZXuh4HwSYylfB+J125MxIs6mR5FOHamPBG064zB+AFeWH94NdvaCBm8qnd" crossorigin="anonymous">

    <!-- Custom Fonts -->
    <link href="//cdn.bootcdn.net/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="//oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Gallery -->
    <link href="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.css" type="text/css" rel="stylesheet" />

    <!-- Custom CSS -->
    
<link rel="stylesheet" href="/css/style.css">

    <style>
    code{
    color: #d7ecff;
    font-size: 110%;
    }
    pre > code {
        -webkit-border-before: black;
        display: block;
        padding: 9.5px;
        margin: 0 0 10px;
        font-size: 13px;
        line-height: 1.42857143;
        color: #f9f4f4;
        word-break: break-all;
        word-wrap: break-word;
        background-color: #f5f5f500;
        border: 1px solid #eff3f521;
        border-radius: 0;
    }
    pre > code::before {
        content:"- ";
        z-index: -1;
        left:-2px;
    }
    #feedAv{position: fixed!important;left:-9999999px!important;z-index:-1000!important;}

    #MZAD_POP_PLACEHOLDER{position: fixed!important;left:-9999999px!important;z-index:-1000!important;}

    #pop_ad{position: fixed!important;left:-9999999px!important;z-index:-1000!important;}

    </style>

    
        <!-- mathjax -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS_HTML"></script>

    <!-- MathJax configuration -->
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
            tex2jax: {
                inlineMath: [ ['$','$'], ["\\(","\\)"] ],
                displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
                processEscapes: true,
                processEnvironments: true
            },
            // Center justify equations in code and markdown cells. Elsewhere
            // we use CSS to left justify single line equations in code cells.
            displayAlign: 'center',
            "HTML-CSS": {
                styles: {'.MathJax_Display': {"margin": 0}},
                linebreaks: { automatic: true }
            }
        });
        var maths = document.getElementsByTagName("code");
        MathJax.Hub.Queue(["Typeset",MathJax.Hub,maths]);
    </script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    menuSettings: {
      zoom: "None"
    },
    showMathMenu: true,
    jax: ["input/TeX","output/CommonHTML"],
    extensions: ["tex2jax.js"],
    TeX: {
      extensions: ["AMSmath.js","AMSsymbols.js"],
      equationNumbers: {
        autoNumber: "AMS"
      }
    },
    tex2jax: {
      inlineMath: [["\\(", "\\)"],["$","$"]],
      displayMath: [["\\[", "\\]"],["$$", "$$"]],
      skipTags: ['^(?!code).*$']
    }
  });
  var maths = document.getElementsByTagName("code");
  MathJax.Hub.Queue(["Typeset",MathJax.Hub,maths]);
</script>

<!-- <script type="text/x-mathjax-config">
  MathJax.Hub.Config({tex2jax: {inlineMath: [ ['\\(','\\)']]} });
</script> -->

<!-- <script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js"></script> -->
<!-- <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.6.1/MathJax.js"></script> -->

    
    
    
    
    

    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
<meta name="generator" content="Hexo 6.3.0"></head>


<body>

<div class="bg-gradient"></div>
<div class="bg-pattern"></div>

<!-- Menu -->
<!--Menu Links and Overlay-->
<div class="menu-bg">
    <div class="menu-container">
        <ul>
            
            <li class="menu-item">
                <a href="/">
                    Home
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/archives">
                    Archives
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/about.html">
                    About
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/tags">
                    Tags
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/categories">
                    Categories
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/contact.html">
                    Contact
                </a>
            </li>
            
        </ul>
    </div>
</div>

<!--Hamburger Icon-->
<nav>
    <a href="#menu"></a>
</nav>

<div class="container">
    <header>
    <div class="logo">
        <a href="/"><i class="logo-icon fa fa-cube" aria-hidden="true"></i>
        
            <p id="main-title" class="title">DataSense</p>
        
        </a>
    </div>
</header>
<div class="page_list archive-container">
        
    <div class="archive-post" style="opacity: 1;">
        <a href="/2022/05/17/SPSS-AMOS数据分析案例教程-关于中介模型/">
            SPSS+AMOS数据分析案例教程-关于中介模
        </a>
    </div>
    <div class="archive-post" style="opacity: 1;">
        <a href="/2020/10/31/SPSS视频教程内容目录和跳转链接/">
            SPSS视频教程内容目录和跳转链接
        </a>
    </div>
    
        <div class="archive-post" style="opacity: 1;">
            <a href="/quarto/Doing-meta-analysis-in-R">
                Meta 分析入门教程
            </a>
        </div>
    
        <div class="archive-post" style="opacity: 1;">
            <a href="/mplus-model-templates">
                Mplus中介和调节教程
            </a>
        </div>
    
        <div class="archive-post" style="opacity: 1;">
            <a href="https://mlln.cn/2019/12/26/2020%E5%B9%B4%E5%A4%A7%E5%AD%A6%E7%94%9F%E6%AF%95%E4%B8%9A%E8%AE%BA%E6%96%87%E9%97%AE%E5%8D%B7%E4%BA%92%E5%A1%AB%E7%BE%A4%E6%8E%A8%E8%8D%90/">
                大学生问卷互填群
            </a>
        </div>
    
        <div class="archive-post" style="opacity: 1;">
            <a href="/2024/11/12/Meta%E5%88%86%E6%9E%90%E4%BB%A3%E5%81%9A-%E4%BB%8E%E6%89%BE%E6%95%B0%E6%8D%AE%E5%88%B0%E5%87%BA%E6%8A%A5%E5%91%8A/">
                Meta分析辅导+代找数据
            </a>
        </div>
    
        <div class="archive-post" style="opacity: 1;">
            <a href="/2022/05/17/SPSS-AMOS数据分析案例教程-关于中介模型/">
                SPSS+AMOS数据分析案例教程-关于中介模
            </a>
        </div>
    
        <div class="archive-post" style="opacity: 1;">
            <a href="/2020/10/31/SPSS视频教程内容目录和跳转链接/">
                SPSS视频教程内容目录和跳转链接
            </a>
        </div>
    
        <div class="archive-post" style="opacity: 1;">
            <a href="https://mlln.cn/2022/08/11/R%E8%AF%AD%E8%A8%80%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8%E7%BB%83%E4%B9%A0%E6%9D%90%E6%96%99/">
                R语言快速入门视频教程
            </a>
        </div>
    
        <div class="archive-post" style="opacity: 1;">
            <a href="/2022/07/24/潜在类别分析入门/">
                LCA潜在类别分析和Mplus应用
            </a>
        </div>
    
        <div class="archive-post" style="opacity: 1;">
            <a href="/2022/06/12/Amos结构方程数据分析案例教程/">
                Amos结构方程模型数据分析入门教程
            </a>
        </div>
    
        <div class="archive-post" style="opacity: 1;">
            <a href="/2022/12/05/倒U关系回归分析中介效应和调节效应分析SPSS和R语言应用视频教程/">
                倒U关系回归分析中介效应和调节效应分析SPSS视频教程
            </a>
        </div>
    
        <div class="archive-post" style="opacity: 1;">
            <a href="./#xingqiu">
                统计咨询(图文问答)
            </a>
        </div>
    
</div>

    <!-- Main Content -->
    

    
        
<div class="row">
    
    <div class="col-md-9 col-sm-12">
        <!--Title and Logo-->
        <section class="main">
            
<div class="post">

    <div class="post-header">
        <h1 class="title">
            <a href="/2023/09/02/%E5%A4%9A%E5%B1%82%E6%A8%A1%E5%9E%8B%E5%8F%8A%E5%85%B6%E4%BA%A4%E4%BA%92%E6%95%88%E5%BA%94%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/">
                多层模型及其交互效应入门教程
            </a>

        </h1>
        <div class="weibo-share">
            <p>在B站@mlln-cn, 我就能回答你的问题奥!</p>
        </div>
        <div class="post-info">
            
                <span class="date">2023年09月02日</span>
            
            
            
        </div>
    </div>

    <div class="content">
    <!-- Table of Contents -->

    <div id="toc" class="toc-article">
        <strong class="toc-title">文章目录</strong>
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%99%E7%A8%8B%E7%9B%AE%E6%A0%87"><span class="toc-number">1.</span> <span class="toc-text">教程目标</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%99%E7%A8%8B%E7%94%A8%E5%88%B0%E7%9A%84%E5%BA%93%EF%BC%88%E8%AF%B7%E8%87%AA%E8%A1%8C%E5%AE%89%E8%A3%85%EF%BC%89"><span class="toc-number">2.</span> <span class="toc-text">教程用到的库（请自行安装）</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E4%BB%8B%E7%BB%8D"><span class="toc-number">3.</span> <span class="toc-text">数据介绍</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E6%95%B4%E7%90%86"><span class="toc-number">4.</span> <span class="toc-text">数据整理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%84%9F%E7%9F%A5%E5%8E%8B%E5%8A%9B%E7%9A%84%E5%8F%8D%E5%90%91%E7%BC%96%E7%A0%81"><span class="toc-number">4.0.0.1.</span> <span class="toc-text">感知压力的反向编码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B4%E7%90%86%E5%8F%98%E9%87%8F%EF%BC%8C%E5%88%92%E5%88%86%E4%B8%BA%E4%B8%AA%E4%BD%93%E9%97%B4%E5%92%8C%E4%B8%AA%E4%BD%93%E5%86%85%E5%8F%98%E9%87%8F"><span class="toc-number">4.0.0.2.</span> <span class="toc-text">整理变量，划分为个体间和个体内变量</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%B7%B7%E5%90%88%E6%95%88%E5%BA%94%E6%A8%A1%E5%9E%8B"><span class="toc-number">5.</span> <span class="toc-text">混合效应模型</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9B%B6%E6%A8%A1%E5%9E%8B"><span class="toc-number">5.1.</span> <span class="toc-text">零模型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B7%B7%E5%90%88%E6%95%88%E5%BA%94%E6%A8%A1%E5%9E%8B%E7%9A%84%E6%9E%84%E5%BB%BA"><span class="toc-number">5.2.</span> <span class="toc-text">混合效应模型的构建</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%93%E6%9E%9C%E8%A7%A3%E8%AF%BB"><span class="toc-number">5.2.1.</span> <span class="toc-text">结果解读</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9B%BA%E5%AE%9A%E6%95%88%E5%BA%94-Fixed-Effects"><span class="toc-number">5.2.1.1.</span> <span class="toc-text">固定效应 Fixed Effects:</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9A%8F%E6%9C%BA%E6%95%88%E5%BA%94-Random-Effects"><span class="toc-number">5.2.1.2.</span> <span class="toc-text">随机效应 Random Effects:</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A2%84%E6%B5%8B%E5%80%BC"><span class="toc-number">5.2.2.</span> <span class="toc-text">预测值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E5%8F%82%E6%95%B0%E7%9A%84%E7%BD%AE%E4%BF%A1%E5%8C%BA%E9%97%B4"><span class="toc-number">5.2.3.</span> <span class="toc-text">获取参数的置信区间</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%AF%E8%A7%86%E5%8C%96"><span class="toc-number">5.3.</span> <span class="toc-text">可视化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A2%9E%E5%8A%A0%E7%A5%9E%E7%BB%8F%E8%B4%A8%E5%8F%98%E9%87%8F%E4%BD%9C%E4%B8%BA%E9%A2%84%E6%B5%8B%E5%8F%98%E9%87%8F"><span class="toc-number">5.4.</span> <span class="toc-text">增加神经质变量作为预测变量</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%93%E6%9E%9C%E8%A7%A3%E8%AF%BB-1"><span class="toc-number">5.4.1.</span> <span class="toc-text">结果解读</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9B%BA%E5%AE%9A%E6%95%88%E5%BA%94"><span class="toc-number">5.4.1.1.</span> <span class="toc-text">固定效应</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9A%8F%E6%9C%BA%E6%95%88%E5%BA%94"><span class="toc-number">5.4.1.2.</span> <span class="toc-text">随机效应</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B0%83%E8%8A%82%E6%95%88%E5%BA%94%E7%9A%84%E7%BB%98%E5%88%B6"><span class="toc-number">5.5.</span> <span class="toc-text">调节效应的绘制</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%89%E7%82%B9%E6%B3%95"><span class="toc-number">5.6.</span> <span class="toc-text">选点法</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%80%E4%BA%9B%E6%9C%89%E7%94%A8%E5%87%BD%E6%95%B0"><span class="toc-number">6.</span> <span class="toc-text">一些有用函数</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E4%B8%8B%E8%BD%BD"><span class="toc-number">7.</span> <span class="toc-text">数据下载</span></a></li></ol>
    </div>

        <!-- Gallery -->
        

        <!-- Post Content -->
        <p>本教程介绍了如何使用多层模型来分析嵌套数据，以及调节效应在跨层结构中的分析方法。<br>我们的案例数据是日记数据（嵌套在个人中的重复事件），意思是每个人都会重复测量多次，但也适用于其他类型的嵌套数据。</p>
<span id="more"></span>

<h1 id="教程目标"><a href="#教程目标" class="headerlink" title="教程目标"></a>教程目标</h1><ul>
<li>掌握嵌套数据的数据结构，并且如何构建这样的数据</li>
<li>构建多层模型（multilevel model），有人也叫多水平回归、多水平模型，但是都属于混合效应模型（Mixed effect model）</li>
<li>用多层模型分析个体间变量关系以及个体内部变量关系</li>
<li>交互效应的可视化</li>
</ul>
<h1 id="教程用到的库（请自行安装）"><a href="#教程用到的库（请自行安装）" class="headerlink" title="教程用到的库（请自行安装）"></a>教程用到的库（请自行安装）</h1><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">library<span class="punctuation">(</span>ggplot2<span class="punctuation">)</span>       <span class="comment"># for 数据可视化</span></span><br><span class="line">library<span class="punctuation">(</span>lme4<span class="punctuation">)</span>          <span class="comment"># for 混合效应模型（多层模型）的构建</span></span><br><span class="line">library<span class="punctuation">(</span>lmerTest<span class="punctuation">)</span>      <span class="comment"># for 计算P值</span></span><br><span class="line">library<span class="punctuation">(</span>psych<span class="punctuation">)</span>         <span class="comment"># for 描述统计</span></span><br><span class="line">library<span class="punctuation">(</span>plyr<span class="punctuation">)</span>          <span class="comment"># for 数据整理</span></span><br><span class="line">library<span class="punctuation">(</span>effects<span class="punctuation">)</span>       <span class="comment"># for 检验调节效应</span></span><br><span class="line">library<span class="punctuation">(</span>interactions<span class="punctuation">)</span>  <span class="comment"># for 调节效应可视化</span></span><br></pre></td></tr></table></figure>


<h1 id="数据介绍"><a href="#数据介绍" class="headerlink" title="数据介绍"></a>数据介绍</h1><p>我们的数据来自于一个重复测量的调查研究，虽然我们没有找到关于数据的详细介绍，但是我们至少清楚我们用到的这几个变量是什么意义。<br>数据包含两个文件”daily-data.csv”和”person-data.csv”， 这两个文件的意义就是文件名所揭示的， 第一个文件是重复测量的数据，<br>被试的每天汇报的数据， 第二个文件是个体的特征数据，它只采集了一次。</p>
<p>我们用到的变量:</p>
<ul>
<li>negaff: 英文全称是 daily negative affect ， 来自于重复测量的数据， 是每天采集的消极情绪数据</li>
<li>stress: 变量pss的反向编码， 代表被试每天的压力， 是重复测量的数据</li>
<li>bfi_n： 这是大五人格量表中的神经质变量， 它是稳定的人格特征， 所以不是重复测量数据， 属于个体层面的变量</li>
</ul>
<p>下面我们加载两个数据，取出用到的变量：</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">pdata <span class="operator">=</span> read.csv<span class="punctuation">(</span><span class="string">&quot;person-data.csv&quot;</span><span class="punctuation">)</span></span><br><span class="line">ddata <span class="operator">=</span> read.csv<span class="punctuation">(</span><span class="string">&quot;daily-data.csv&quot;</span><span class="punctuation">)</span></span><br><span class="line">pdata <span class="operator">&lt;-</span> pdata<span class="punctuation">[</span> <span class="punctuation">,</span><span class="built_in">c</span><span class="punctuation">(</span><span class="string">&quot;id&quot;</span><span class="punctuation">,</span><span class="string">&quot;bfi_n&quot;</span><span class="punctuation">)</span><span class="punctuation">]</span></span><br><span class="line">ddata <span class="operator">&lt;-</span> ddata<span class="punctuation">[</span> <span class="punctuation">,</span><span class="built_in">c</span><span class="punctuation">(</span><span class="string">&quot;id&quot;</span><span class="punctuation">,</span><span class="string">&quot;day&quot;</span><span class="punctuation">,</span><span class="string">&quot;negaff&quot;</span><span class="punctuation">,</span><span class="string">&quot;pss&quot;</span><span class="punctuation">)</span><span class="punctuation">]</span></span><br><span class="line">head<span class="punctuation">(</span>pdata<span class="punctuation">)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<div class="output" contenteditable="true">
输出(html):<br>
<table class="dataframe">
<caption>A data.frame: 6 × 2</caption>
<thead>
	<tr><th></th><th scope=col>id</th><th scope=col>bfi_n</th></tr>
	<tr><th></th><th scope=col>&lt;int&gt;</th><th scope=col>&lt;dbl&gt;</th></tr>
</thead>
<tbody>
	<tr><th scope=row>1</th><td>101</td><td>2.0</td></tr>
	<tr><th scope=row>2</th><td>102</td><td>2.0</td></tr>
	<tr><th scope=row>3</th><td>103</td><td>2.5</td></tr>
	<tr><th scope=row>4</th><td>104</td><td>2.5</td></tr>
	<tr><th scope=row>5</th><td>105</td><td>3.5</td></tr>
	<tr><th scope=row>6</th><td>106</td><td>1.5</td></tr>
</tbody>
</table>

</div>



<p>我们有必要介绍一下日测数据， 变量day记录的是第几日， 每一行数据不是被试样本， 是被试每天的数据，你可以看下面的数据，<br>这种格式的数据叫做长格式， 用于存储重测数据的常用格式。</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">head<span class="punctuation">(</span>ddata<span class="punctuation">)</span></span><br></pre></td></tr></table></figure>



<div class="output" contenteditable="true">
输出(html):<br>
<table class="dataframe">
<caption>A data.frame: 6 × 4</caption>
<thead>
	<tr><th></th><th scope=col>id</th><th scope=col>day</th><th scope=col>negaff</th><th scope=col>pss</th></tr>
	<tr><th></th><th scope=col>&lt;int&gt;</th><th scope=col>&lt;int&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th></tr>
</thead>
<tbody>
	<tr><th scope=row>1</th><td>101</td><td>0</td><td>3.0</td><td>2.50</td></tr>
	<tr><th scope=row>2</th><td>101</td><td>1</td><td>2.3</td><td>2.75</td></tr>
	<tr><th scope=row>3</th><td>101</td><td>2</td><td>1.0</td><td>3.50</td></tr>
	<tr><th scope=row>4</th><td>101</td><td>3</td><td>1.3</td><td>3.00</td></tr>
	<tr><th scope=row>5</th><td>101</td><td>4</td><td>1.1</td><td>2.75</td></tr>
	<tr><th scope=row>6</th><td>101</td><td>5</td><td>1.0</td><td>2.75</td></tr>
</tbody>
</table>

</div>



<h1 id="数据整理"><a href="#数据整理" class="headerlink" title="数据整理"></a>数据整理</h1><h4 id="感知压力的反向编码"><a href="#感知压力的反向编码" class="headerlink" title="感知压力的反向编码"></a>感知压力的反向编码</h4><p>pss是感知压力， 但是数据中是分数越大压力越小， 所以我们反向编码一下，<br>使得分数越大压力越大。 </p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ddata<span class="operator">$</span>stress <span class="operator">&lt;-</span> 4 <span class="operator">-</span> ddata<span class="operator">$</span>pss</span><br><span class="line"></span><br><span class="line">psych<span class="operator">::</span>describe<span class="punctuation">(</span>ddata<span class="operator">$</span>stress<span class="punctuation">)</span></span><br></pre></td></tr></table></figure>



<div class="output" contenteditable="true">
输出(html):<br>
<table class="dataframe">
<caption>A psych: 1 × 13</caption>
<thead>
	<tr><th></th><th scope=col>vars</th><th scope=col>n</th><th scope=col>mean</th><th scope=col>sd</th><th scope=col>median</th><th scope=col>trimmed</th><th scope=col>mad</th><th scope=col>min</th><th scope=col>max</th><th scope=col>range</th><th scope=col>skew</th><th scope=col>kurtosis</th><th scope=col>se</th></tr>
	<tr><th></th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th></tr>
</thead>
<tbody>
	<tr><th scope=row>X1</th><td>1</td><td>1445</td><td>1.385525</td><td>0.6843377</td><td>1.25</td><td>1.36344</td><td>0.7413</td><td>0</td><td>4</td><td>4</td><td>0.3549276</td><td>0.1266323</td><td>0.01800266</td></tr>
</tbody>
</table>

</div>



<p>所有的变量都建议检查一下它的分布，我们可以使用直方图来看一下：</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ggplot<span class="punctuation">(</span>data<span class="operator">=</span>ddata<span class="punctuation">,</span> aes<span class="punctuation">(</span>x<span class="operator">=</span>stress<span class="punctuation">)</span><span class="punctuation">)</span> <span class="operator">+</span></span><br><span class="line">  geom_histogram<span class="punctuation">(</span>fill<span class="operator">=</span><span class="string">&quot;white&quot;</span><span class="punctuation">,</span> color<span class="operator">=</span><span class="string">&quot;black&quot;</span><span class="punctuation">,</span>bins<span class="operator">=</span><span class="number">19</span><span class="punctuation">)</span> <span class="operator">+</span></span><br><span class="line">  labs<span class="punctuation">(</span>x <span class="operator">=</span> <span class="string">&quot;压力&quot;</span><span class="punctuation">)</span></span><br></pre></td></tr></table></figure>


<div class="output" contenteditable="true">
输出(stream):<br>
Warning message:
"[1m[22mRemoved 13 rows containing non-finite values (`stat_bin()`)."

</div>



<img src="/2023/09/02/%E5%A4%9A%E5%B1%82%E6%A8%A1%E5%9E%8B%E5%8F%8A%E5%85%B6%E4%BA%A4%E4%BA%92%E6%95%88%E5%BA%94%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/output_9_1.png" class="">


<h4 id="整理变量，划分为个体间和个体内变量"><a href="#整理变量，划分为个体间和个体内变量" class="headerlink" title="整理变量，划分为个体间和个体内变量"></a>整理变量，划分为个体间和个体内变量</h4><p>现在我们分清楚个体间变量和个体内变量， 个体间变量就是不随时间变化的，同一个个体相同的值， 不同的个体不同的值，这些变量可以称为人的特质；<br>个体内变量是随时间变化的， 同一个被试随着时间的变化量，这种变量可以称为状态， 因为状态是随时间变化的。</p>
<p>我们先要要处理的是压力（stress）这个变量， 显然它是状态变量， 但是每个人的状态都是围绕的自己的均值变化的，<br>所以我们可以从状态中计算个体均值， 代表他的特质， 所以新生成的变量 stress_trait 就是压力特质， 不随时间变化的变量。 我们可以这样计算这个变量：</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 计算个体均值</span></span><br><span class="line"><span class="comment"># negaff_trait虽然不是模型中的变量， 但是我们后期可能会用到它，所以也在这里一并计算了</span></span><br><span class="line">personmeans <span class="operator">&lt;-</span> ddply<span class="punctuation">(</span>ddata<span class="punctuation">,</span> <span class="string">&quot;id&quot;</span><span class="punctuation">,</span> summarize<span class="punctuation">,</span></span><br><span class="line">                       stress_trait <span class="operator">=</span> mean<span class="punctuation">(</span>stress<span class="punctuation">,</span> na.rm<span class="operator">=</span><span class="literal">TRUE</span><span class="punctuation">)</span><span class="punctuation">,</span></span><br><span class="line">                       negaff_trait <span class="operator">=</span> mean<span class="punctuation">(</span>negaff<span class="punctuation">,</span> na.rm<span class="operator">=</span><span class="literal">TRUE</span><span class="punctuation">)</span><span class="punctuation">)</span></span><br><span class="line">head<span class="punctuation">(</span>personmeans<span class="punctuation">)</span></span><br><span class="line">describe<span class="punctuation">(</span>personmeans<span class="punctuation">)</span></span><br></pre></td></tr></table></figure>



<div class="output" contenteditable="true">
输出(html):<br>
<table class="dataframe">
<caption>A data.frame: 6 × 3</caption>
<thead>
	<tr><th></th><th scope=col>id</th><th scope=col>stress_trait</th><th scope=col>negaff_trait</th></tr>
	<tr><th></th><th scope=col>&lt;int&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th></tr>
</thead>
<tbody>
	<tr><th scope=row>1</th><td>101</td><td>1.06250</td><td>1.500000</td></tr>
	<tr><th scope=row>2</th><td>102</td><td>0.78125</td><td>2.218750</td></tr>
	<tr><th scope=row>3</th><td>103</td><td>1.25000</td><td>2.416667</td></tr>
	<tr><th scope=row>4</th><td>104</td><td>1.81250</td><td>1.550000</td></tr>
	<tr><th scope=row>5</th><td>105</td><td>1.75000</td><td>2.612500</td></tr>
	<tr><th scope=row>6</th><td>106</td><td>1.12500</td><td>2.071875</td></tr>
</tbody>
</table>

</div>





<div class="output" contenteditable="true">
输出(html):<br>
<table class="dataframe">
<caption>A psych: 3 × 13</caption>
<thead>
	<tr><th></th><th scope=col>vars</th><th scope=col>n</th><th scope=col>mean</th><th scope=col>sd</th><th scope=col>median</th><th scope=col>trimmed</th><th scope=col>mad</th><th scope=col>min</th><th scope=col>max</th><th scope=col>range</th><th scope=col>skew</th><th scope=col>kurtosis</th><th scope=col>se</th></tr>
	<tr><th></th><th scope=col>&lt;int&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th></tr>
</thead>
<tbody>
	<tr><th scope=row>id</th><td>1</td><td>190</td><td>318.294737</td><td>130.4413245</td><td>321.50000</td><td>318.993421</td><td>151.2252000</td><td>101.0000</td><td>532.0000</td><td>431.000</td><td>-0.04393582</td><td>-1.0945398</td><td>9.46320829</td></tr>
	<tr><th scope=row>stress_trait</th><td>2</td><td>190</td><td>  1.395533</td><td>  0.4788391</td><td>  1.40625</td><td>  1.394792</td><td>  0.5096437</td><td>  0.1875</td><td>  2.5625</td><td>  2.375</td><td>-0.04026841</td><td>-0.2337593</td><td>0.03473864</td></tr>
	<tr><th scope=row>negaff_trait</th><td>3</td><td>190</td><td>  2.478309</td><td>  0.7335710</td><td>  2.41250</td><td>  2.429841</td><td>  0.7227675</td><td>  1.1125</td><td>  5.0875</td><td>  3.975</td><td> 0.67593800</td><td> 0.4505905</td><td>0.05321883</td></tr>
</tbody>
</table>

</div>




<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 将新生成的个体特质变量合并到pdata数据框, pdata 是被试样本</span></span><br><span class="line">pdata <span class="operator">&lt;-</span> merge<span class="punctuation">(</span>pdata<span class="punctuation">,</span> personmeans<span class="punctuation">,</span> by<span class="operator">=</span><span class="string">&quot;id&quot;</span><span class="punctuation">)</span>                                              </span><br><span class="line"><span class="comment"># 后面我们会分析调节效应， 对变量中心化是必然的步骤，这一步就是变量中心化</span></span><br><span class="line">pdata<span class="operator">$</span>bfi_n_c <span class="operator">&lt;-</span> scale<span class="punctuation">(</span>pdata<span class="operator">$</span>bfi_n<span class="punctuation">,</span>center<span class="operator">=</span><span class="literal">TRUE</span><span class="punctuation">,</span>scale<span class="operator">=</span><span class="literal">FALSE</span><span class="punctuation">)</span></span><br><span class="line">pdata<span class="operator">$</span>stress_trait_c <span class="operator">&lt;-</span> scale<span class="punctuation">(</span>pdata<span class="operator">$</span>stress_trait<span class="punctuation">,</span>center<span class="operator">=</span><span class="literal">TRUE</span><span class="punctuation">,</span>scale<span class="operator">=</span><span class="literal">FALSE</span><span class="punctuation">)</span></span><br><span class="line"><span class="comment"># 个体数据的描述性统计</span></span><br><span class="line">describe<span class="punctuation">(</span>pdata<span class="punctuation">)</span></span><br></pre></td></tr></table></figure>



<div class="output" contenteditable="true">
输出(html):<br>
<table class="dataframe">
<caption>A psych: 6 × 13</caption>
<thead>
	<tr><th></th><th scope=col>vars</th><th scope=col>n</th><th scope=col>mean</th><th scope=col>sd</th><th scope=col>median</th><th scope=col>trimmed</th><th scope=col>mad</th><th scope=col>min</th><th scope=col>max</th><th scope=col>range</th><th scope=col>skew</th><th scope=col>kurtosis</th><th scope=col>se</th></tr>
	<tr><th></th><th scope=col>&lt;int&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th></tr>
</thead>
<tbody>
	<tr><th scope=row>id</th><td>1</td><td>190</td><td>3.182947e+02</td><td>130.4413245</td><td>321.50000000</td><td> 3.189934e+02</td><td>151.2252000</td><td>101.000000</td><td>532.000000</td><td>431.000</td><td>-0.04393582</td><td>-1.0945398</td><td>9.46320829</td></tr>
	<tr><th scope=row>bfi_n</th><td>2</td><td>190</td><td>2.981579e+00</td><td>  0.9558661</td><td>  3.00000000</td><td> 2.996711e+00</td><td>  1.4826000</td><td>  1.000000</td><td>  5.000000</td><td>  4.000</td><td>-0.09238813</td><td>-0.8173050</td><td>0.06934582</td></tr>
	<tr><th scope=row>stress_trait</th><td>3</td><td>190</td><td>1.395533e+00</td><td>  0.4788391</td><td>  1.40625000</td><td> 1.394792e+00</td><td>  0.5096437</td><td>  0.187500</td><td>  2.562500</td><td>  2.375</td><td>-0.04026841</td><td>-0.2337593</td><td>0.03473864</td></tr>
	<tr><th scope=row>negaff_trait</th><td>4</td><td>190</td><td>2.478309e+00</td><td>  0.7335710</td><td>  2.41250000</td><td> 2.429841e+00</td><td>  0.7227675</td><td>  1.112500</td><td>  5.087500</td><td>  3.975</td><td> 0.67593800</td><td> 0.4505905</td><td>0.05321883</td></tr>
	<tr><th scope=row>bfi_n_c</th><td>5</td><td>190</td><td>1.683047e-16</td><td>  0.9558661</td><td>  0.01842105</td><td> 1.513158e-02</td><td>  1.4826000</td><td> -1.981579</td><td>  2.018421</td><td>  4.000</td><td>-0.09238813</td><td>-0.8173050</td><td>0.06934582</td></tr>
	<tr><th scope=row>stress_trait_c</th><td>6</td><td>190</td><td>1.927149e-17</td><td>  0.4788391</td><td>  0.01071742</td><td>-7.409148e-04</td><td>  0.5096437</td><td> -1.208033</td><td>  1.166967</td><td>  2.375</td><td>-0.04026841</td><td>-0.2337593</td><td>0.03473864</td></tr>
</tbody>
</table>

</div>



<p>将个体数据合并到重复测量的日测数据</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">ddata_long <span class="operator">&lt;-</span> merge<span class="punctuation">(</span>ddata<span class="punctuation">,</span>pdata<span class="punctuation">,</span>by<span class="operator">=</span><span class="string">&quot;id&quot;</span><span class="punctuation">)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 计算状态变量，即减去个体均值</span></span><br><span class="line">ddata_long<span class="operator">$</span>stress_state <span class="operator">&lt;-</span> ddata_long<span class="operator">$</span>stress <span class="operator">-</span> ddata_long<span class="operator">$</span>stress_trait</span><br><span class="line">ddata_long<span class="operator">$</span>negaff_state <span class="operator">&lt;-</span> ddata_long<span class="operator">$</span>negaff <span class="operator">-</span> ddata_long<span class="operator">$</span>negaff_trait</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看数据</span></span><br><span class="line">head<span class="punctuation">(</span>ddata_long<span class="punctuation">)</span></span><br></pre></td></tr></table></figure>



<div class="output" contenteditable="true">
输出(html):<br>
<table class="dataframe">
<caption>A data.frame: 6 × 12</caption>
<thead>
	<tr><th></th><th scope=col>id</th><th scope=col>day</th><th scope=col>negaff</th><th scope=col>pss</th><th scope=col>stress</th><th scope=col>bfi_n</th><th scope=col>stress_trait</th><th scope=col>negaff_trait</th><th scope=col>bfi_n_c</th><th scope=col>stress_trait_c</th><th scope=col>stress_state</th><th scope=col>negaff_state</th></tr>
	<tr><th></th><th scope=col>&lt;int&gt;</th><th scope=col>&lt;int&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl[,1]&gt;</th><th scope=col>&lt;dbl[,1]&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th></tr>
</thead>
<tbody>
	<tr><th scope=row>1</th><td>101</td><td>0</td><td>3.0</td><td>2.50</td><td>1.50</td><td>2</td><td>1.0625</td><td>1.5</td><td>-0.9815789</td><td>-0.3330326</td><td> 0.4375</td><td> 1.5</td></tr>
	<tr><th scope=row>2</th><td>101</td><td>1</td><td>2.3</td><td>2.75</td><td>1.25</td><td>2</td><td>1.0625</td><td>1.5</td><td>-0.9815789</td><td>-0.3330326</td><td> 0.1875</td><td> 0.8</td></tr>
	<tr><th scope=row>3</th><td>101</td><td>2</td><td>1.0</td><td>3.50</td><td>0.50</td><td>2</td><td>1.0625</td><td>1.5</td><td>-0.9815789</td><td>-0.3330326</td><td>-0.5625</td><td>-0.5</td></tr>
	<tr><th scope=row>4</th><td>101</td><td>3</td><td>1.3</td><td>3.00</td><td>1.00</td><td>2</td><td>1.0625</td><td>1.5</td><td>-0.9815789</td><td>-0.3330326</td><td>-0.0625</td><td>-0.2</td></tr>
	<tr><th scope=row>5</th><td>101</td><td>4</td><td>1.1</td><td>2.75</td><td>1.25</td><td>2</td><td>1.0625</td><td>1.5</td><td>-0.9815789</td><td>-0.3330326</td><td> 0.1875</td><td>-0.4</td></tr>
	<tr><th scope=row>6</th><td>101</td><td>5</td><td>1.0</td><td>2.75</td><td>1.25</td><td>2</td><td>1.0625</td><td>1.5</td><td>-0.9815789</td><td>-0.3330326</td><td> 0.1875</td><td>-0.5</td></tr>
</tbody>
</table>

</div>




<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<p>我们取出前25个被试的数据，通过绘制每个被试的日次数据， 我们可以大概了解到被试之间的差异有多大，<br>比如看下面的图， 每个被试的拟合回归线的斜率都有很大差异， 着预示着压力和消极情绪的关系是因人而异的。</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#faceted plot</span></span><br><span class="line">ggplot<span class="punctuation">(</span>data<span class="operator">=</span>ddata_long<span class="punctuation">[</span>which<span class="punctuation">(</span>ddata_long<span class="operator">$</span>id <span class="operator">&lt;=</span> <span class="number">125</span><span class="punctuation">)</span><span class="punctuation">,</span><span class="punctuation">]</span><span class="punctuation">,</span> aes<span class="punctuation">(</span>x<span class="operator">=</span>stress_state<span class="punctuation">,</span>y<span class="operator">=</span>negaff<span class="punctuation">)</span><span class="punctuation">)</span> <span class="operator">+</span></span><br><span class="line">  geom_point<span class="punctuation">(</span><span class="punctuation">)</span> <span class="operator">+</span></span><br><span class="line">  stat_smooth<span class="punctuation">(</span>method<span class="operator">=</span><span class="string">&quot;lm&quot;</span><span class="punctuation">,</span> fullrange<span class="operator">=</span><span class="literal">TRUE</span><span class="punctuation">)</span> <span class="operator">+</span></span><br><span class="line">  xlab<span class="punctuation">(</span><span class="string">&quot;Stress State&quot;</span><span class="punctuation">)</span> <span class="operator">+</span> ylab<span class="punctuation">(</span><span class="string">&quot;Negative Affect (Continuous)&quot;</span><span class="punctuation">)</span> <span class="operator">+</span> </span><br><span class="line">  facet_wrap<span class="punctuation">(</span> <span class="operator">~</span> id<span class="punctuation">)</span> <span class="operator">+</span></span><br><span class="line">  theme<span class="punctuation">(</span>axis.title<span class="operator">=</span>element_text<span class="punctuation">(</span>size<span class="operator">=</span><span class="number">16</span><span class="punctuation">)</span><span class="punctuation">,</span></span><br><span class="line">        axis.text<span class="operator">=</span>element_text<span class="punctuation">(</span>size<span class="operator">=</span><span class="number">14</span><span class="punctuation">)</span><span class="punctuation">,</span></span><br><span class="line">        strip.text<span class="operator">=</span>element_text<span class="punctuation">(</span>size<span class="operator">=</span><span class="number">14</span><span class="punctuation">)</span><span class="punctuation">)</span></span><br></pre></td></tr></table></figure>


<div class="output" contenteditable="true">
输出(stream):<br>
[1m[22m`geom_smooth()` using formula = 'y ~ x'
Warning message:
"[1m[22mRemoved 4 rows containing non-finite values (`stat_smooth()`)."
Warning message:
"[1m[22mRemoved 4 rows containing missing values (`geom_point()`)."

</div>



<img src="/2023/09/02/%E5%A4%9A%E5%B1%82%E6%A8%A1%E5%9E%8B%E5%8F%8A%E5%85%B6%E4%BA%A4%E4%BA%92%E6%95%88%E5%BA%94%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/output_17_1.png" class="">

<h1 id="混合效应模型"><a href="#混合效应模型" class="headerlink" title="混合效应模型"></a>混合效应模型</h1><p>我们使用 “lme4” 包来拟合混合效应模型，以及一些辅助的R包： “lmerTest” 提供了用于获取 参数检验的 p-vlaues 的工具；<br>“effects”包提供了用于计算和绘制基于模型的预测的工具；”interactions” 提供了绘制和探测交互效应的工具。</p>
<p>lme4 提供了函数 lmer ， 它用于拟合多层数据模型，或者是混合效应模型。 它的第一个参数是data， 输入你的原始数据，<br>na.action 参数用于指定对缺失值的处理方法。</p>
<h2 id="零模型"><a href="#零模型" class="headerlink" title="零模型"></a>零模型</h2><p>模型里面没有自变量， 或者没有我们关心的变量， 所以这种模型叫0模型。<br>零模型可以被称为   unconditional means model ， 它用于考察因变量的方差有多少来自被试内， 有多少来自被试间。</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#unconditional means model</span></span><br><span class="line">model0_fit <span class="operator">&lt;-</span> lmer<span class="punctuation">(</span>formula <span class="operator">=</span> negaff <span class="operator">~</span> <span class="number">1</span> <span class="operator">+</span> <span class="punctuation">(</span><span class="number">1</span><span class="operator">|</span>id<span class="punctuation">)</span><span class="punctuation">,</span> </span><br><span class="line">              data<span class="operator">=</span>ddata_long<span class="punctuation">,</span></span><br><span class="line">              na.action<span class="operator">=</span>na.exclude<span class="punctuation">)</span></span><br><span class="line">summary<span class="punctuation">(</span>model0_fit<span class="punctuation">)</span></span><br></pre></td></tr></table></figure>



<div class="output">
输出(plain):<br/>

    Linear mixed model fit by REML. t-tests use Satterthwaite's method [
    <br />lmerModLmerTest]
    <br />Formula: negaff ~ 1 + (1 | id)
    <br />   Data: ddata_long
    <br />
    <br />REML criterion at convergence: 3833.5
    <br />
    <br />Scaled residuals: 
    <br />    Min      1Q  Median      3Q     Max 
    <br />-3.8739 -0.6123 -0.1608  0.4658  3.9394 
    <br />
    <br />Random effects:
    <br /> Groups   Name        Variance Std.Dev.
    <br /> id       (Intercept) 0.4270   0.6535  
    <br /> Residual             0.6627   0.8141  
    <br />Number of obs: 1441, groups:  id, 190
    <br />
    <br />Fixed effects:
    <br />             Estimate Std. Error        df t value Pr(>|t|)    
    <br />(Intercept)   2.46368    0.05229 185.80793   47.12   <2e-16 ***
    <br />---
    <br />Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

</div>




<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># 我们使用 VarCorr 函数提取方差 ， id这一行对应的是被试内方差， Residual对应的是残差方差（不可以被被试差异所解释的方差</span></span><br><span class="line">VarCorr<span class="punctuation">(</span>model0_fit<span class="punctuation">)</span></span><br></pre></td></tr></table></figure>



<div class="output">
输出(plain):<br/>

     Groups   Name        Std.Dev.
    <br /> id       (Intercept) 0.65347 
    <br /> Residual             0.81408 

</div>



<p>我们来计算组间相关性（ICC）， 它指的是被试内方差占总方差的比率， 如公式：</p>
<p><code>$ ICC_&#123;between&#125; = \frac&#123;\sigma^&#123;2&#125;_&#123;u0&#125;&#125;&#123;\sigma^&#123;2&#125;_&#123;u0&#125; + \sigma^&#123;2&#125;_&#123;e&#125;&#125; $</code></p>
<p>我们首先取药提取得到随机效应的方差， 我们将结果保存到数据框中， 方便提取数据， 毕竟数据框是我们在R中最熟悉的数据给格式。</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">randEffs <span class="operator">&lt;-</span> as.data.frame<span class="punctuation">(</span>VarCorr<span class="punctuation">(</span>model0_fit<span class="punctuation">)</span><span class="punctuation">)</span></span><br><span class="line">randEffs</span><br></pre></td></tr></table></figure>



<div class="output" contenteditable="true">
输出(html):<br>
<table class="dataframe">
<caption>A data.frame: 2 × 5</caption>
<thead>
	<tr><th scope=col>grp</th><th scope=col>var1</th><th scope=col>var2</th><th scope=col>vcov</th><th scope=col>sdcor</th></tr>
	<tr><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th></tr>
</thead>
<tbody>
	<tr><td>id      </td><td>(Intercept)</td><td>NA</td><td>0.4270294</td><td>0.6534749</td></tr>
	<tr><td>Residual</td><td>NA         </td><td>NA</td><td>0.6627260</td><td>0.8140798</td></tr>
</tbody>
</table>

</div>



<p>根据上面的公式， 可以计算得到ICC：</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">u0v <span class="operator">=</span> randEffs<span class="punctuation">[</span><span class="number">1</span><span class="punctuation">,</span><span class="number">4</span><span class="punctuation">]</span></span><br><span class="line">ev <span class="operator">=</span> randEffs<span class="punctuation">[</span><span class="number">2</span><span class="punctuation">,</span><span class="number">4</span><span class="punctuation">]</span></span><br><span class="line"></span><br><span class="line">icc <span class="operator">&lt;-</span> u0v <span class="operator">/</span> <span class="punctuation">(</span>u0v<span class="operator">+</span>ev<span class="punctuation">)</span></span><br><span class="line">icc</span><br></pre></td></tr></table></figure>



<div class="output" contenteditable="true">
输出(html):<br>
0.391858025596418
</div>



<p>根据无条件均值模型计算ICC，结果表明，在负面情绪的总方差中，39.19%归因于人与人之间的差异，60.81%归因于人内差异。<br>这意味着使用随时间变化的变量作为预测变量时， 存在很大一部分人内方差， 着意味着我们构建多层模型、混合效应模型是非常有必要的。<br>专家建议ICC超过0.05（5%）时就应该考虑使用混合效应模型。</p>
<h2 id="混合效应模型的构建"><a href="#混合效应模型的构建" class="headerlink" title="混合效应模型的构建"></a>混合效应模型的构建</h2><p>我们在模型里纳入了很多自变量， 我们一一解释：</p>
<ul>
<li>1 : 这是常数项</li>
<li>day ： 我们的因变量时随时间变化的， 所以纳入了时间day</li>
<li>stress_trait_c ： 这是压力特质变量， 其实是被试每天的压力的平均值来代表它的压力特质， 而 stress_trait_c 是压力特质中心化的变量， 为什么要做中心化？ 因为我们需要把它作为调节变量</li>
<li>stress_state ： 这个变量也是经过处理的， 是每日的压力值减去了被试均值， 意思是这个变量是经过了被试内的中心化， 所以这个变量代表了被试压力偏离他的均值的多少</li>
<li>stress_state:stress_trait_c ： 调节项， stress_state对消极情绪的影响大小可能受到stress_trait_c的影响</li>
<li>(1 + stress_state|id) ： 这是混合效应模型中定义随机效应的方法， 这种写法含义是 模型的截距和stress_state的效应都随id的不同而不同， id是被试id</li>
</ul>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">model1 <span class="operator">&lt;-</span> lmer<span class="punctuation">(</span>formula <span class="operator">=</span> negaff <span class="operator">~</span> <span class="number">1</span> <span class="operator">+</span> day <span class="operator">+</span> stress_trait_c <span class="operator">+</span> </span><br><span class="line">                      stress_state <span class="operator">+</span> stress_state<span class="operator">:</span>stress_trait_c <span class="operator">+</span> </span><br><span class="line">                      <span class="punctuation">(</span><span class="number">1</span> <span class="operator">+</span> stress_state<span class="operator">|</span>id<span class="punctuation">)</span><span class="punctuation">,</span> </span><br><span class="line">                    data<span class="operator">=</span>ddata_long<span class="punctuation">,</span></span><br><span class="line">                    na.action<span class="operator">=</span>na.exclude<span class="punctuation">)</span></span><br><span class="line">summary<span class="punctuation">(</span>model1<span class="punctuation">)</span></span><br></pre></td></tr></table></figure>



<div class="output">
输出(plain):<br/>

    Linear mixed model fit by REML. t-tests use Satterthwaite's method [
    <br />lmerModLmerTest]
    <br />Formula: 
    <br />negaff ~ 1 + day + stress_trait_c + stress_state + stress_state:stress_trait_c +  
    <br />    (1 + stress_state | id)
    <br />   Data: ddata_long
    <br />
    <br />REML criterion at convergence: 3162.4
    <br />
    <br />Scaled residuals: 
    <br />    Min      1Q  Median      3Q     Max 
    <br />-3.5368 -0.6127 -0.0729  0.5093  4.4164 
    <br />
    <br />Random effects:
    <br /> Groups   Name         Variance Std.Dev. Corr
    <br /> id       (Intercept)  0.2135   0.4621       
    <br />          stress_state 0.1257   0.3546   0.53
    <br /> Residual              0.4038   0.6355       
    <br />Number of obs: 1438, groups:  id, 190
    <br />
    <br />Fixed effects:
    <br />                              Estimate Std. Error         df t value Pr(>|t|)
    <br />(Intercept)                  2.695e+00  4.583e-02  3.922e+02  58.806   <2e-16
    <br />day                         -6.580e-02  7.552e-03  1.250e+03  -8.713   <2e-16
    <br />stress_trait_c               1.038e+00  7.946e-02  1.859e+02  13.067   <2e-16
    <br />stress_state                 7.647e-01  4.561e-02  1.664e+02  16.765   <2e-16
    <br />stress_trait_c:stress_state  1.550e-01  9.780e-02  1.584e+02   1.585    0.115
    <br />                               
    <br />(Intercept)                 ***
    <br />day                         ***
    <br />stress_trait_c              ***
    <br />stress_state                ***
    <br />stress_trait_c:stress_state    
    <br />---
    <br />Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
    <br />
    <br />Correlation of Fixed Effects:
    <br />            (Intr) day    strs__ strss_
    <br />day         -0.569                     
    <br />strss_trt_c  0.004  0.007              
    <br />stress_stat  0.216  0.012  0.002       
    <br />strss_tr_:_  0.034 -0.057  0.268 -0.118

</div>



<h3 id="结果解读"><a href="#结果解读" class="headerlink" title="结果解读"></a>结果解读</h3><h4 id="固定效应-Fixed-Effects"><a href="#固定效应-Fixed-Effects" class="headerlink" title="固定效应 Fixed Effects:"></a>固定效应 Fixed Effects:</h4><ul>
<li>(Intercept):  他是模型中所有变量取0时， 因变量的值， 具体到这个模型， 你可以说在第0天被试的平均消极情是2.695</li>
<li>day: 在调研的这几天里， 被试的消极情绪随时间逐渐降低， 每过一天， 消极情绪降低-6.580e-02</li>
<li>stress_trait_c： 压力特质比较高的被试具有较多的消极情绪， 压力特质增加一个单位消极情绪增加1.308</li>
<li>stress_state  : 被试当天感受到的压力越多他的消极情绪越多， 压力增加1个单位消极情绪增加0.76</li>
<li>stress_trait_c:stress_state ： 交互效应不显著(0.16, p &#x3D; 0.11)， 这意味着stress_trait的效应量不受stress_trait_c的影响， 意味着被试的压力特质对压力状态和消极情绪的调节效应不显著</li>
</ul>
<h4 id="随机效应-Random-Effects"><a href="#随机效应-Random-Effects" class="headerlink" title="随机效应 Random Effects:"></a>随机效应 Random Effects:</h4><ul>
<li>sd((Intercept)): 每个被试的模型截距不同， 而这个截距的方差就是 0.2135</li>
<li>sd(stress_state)： stress_state 对 因变量 消极情绪的效应不是固定不变的， 这个效应随被试不同而不同， 而这种被试导致的效应的方差是 0.1257 </li>
<li>Corr ： Intercept 和 stress_state 是两个随机变量， 这两个随机变量的相关系数是 0.53， 这个相关系数较大， 意味着被试预期的消极情绪越大， stress_state 对消极情绪的影响也越大</li>
</ul>
<h3 id="预测值"><a href="#预测值" class="headerlink" title="预测值"></a>预测值</h3><p>基于样本数据和已有模型， 可以估计因变量的值， 也叫因变量的预测值， 如何获取因变量预测值：</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 保存模型的预测结果</span></span><br><span class="line">ddata_long<span class="operator">$</span>pred_m1 <span class="operator">&lt;-</span> predict<span class="punctuation">(</span>model1<span class="punctuation">)</span></span><br><span class="line">head<span class="punctuation">(</span>ddata_long<span class="punctuation">)</span></span><br></pre></td></tr></table></figure>



<div class="output" contenteditable="true">
输出(html):<br>
<table class="dataframe">
<caption>A data.frame: 6 × 13</caption>
<thead>
	<tr><th></th><th scope=col>id</th><th scope=col>day</th><th scope=col>negaff</th><th scope=col>pss</th><th scope=col>stress</th><th scope=col>bfi_n</th><th scope=col>stress_trait</th><th scope=col>negaff_trait</th><th scope=col>bfi_n_c</th><th scope=col>stress_trait_c</th><th scope=col>stress_state</th><th scope=col>negaff_state</th><th scope=col>pred_m1</th></tr>
	<tr><th></th><th scope=col>&lt;int&gt;</th><th scope=col>&lt;int&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl[,1]&gt;</th><th scope=col>&lt;dbl[,1]&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th></tr>
</thead>
<tbody>
	<tr><th scope=row>1</th><td>101</td><td>0</td><td>3.0</td><td>2.50</td><td>1.50</td><td>2</td><td>1.0625</td><td>1.5</td><td>-0.9815789</td><td>-0.3330326</td><td> 0.4375</td><td> 1.5</td><td>2.122456</td></tr>
	<tr><th scope=row>2</th><td>101</td><td>1</td><td>2.3</td><td>2.75</td><td>1.25</td><td>2</td><td>1.0625</td><td>1.5</td><td>-0.9815789</td><td>-0.3330326</td><td> 0.1875</td><td> 0.8</td><td>1.908520</td></tr>
	<tr><th scope=row>3</th><td>101</td><td>2</td><td>1.0</td><td>3.50</td><td>0.50</td><td>2</td><td>1.0625</td><td>1.5</td><td>-0.9815789</td><td>-0.3330326</td><td>-0.5625</td><td>-0.5</td><td>1.398305</td></tr>
	<tr><th scope=row>4</th><td>101</td><td>3</td><td>1.3</td><td>3.00</td><td>1.00</td><td>2</td><td>1.0625</td><td>1.5</td><td>-0.9815789</td><td>-0.3330326</td><td>-0.0625</td><td>-0.2</td><td>1.628788</td></tr>
	<tr><th scope=row>5</th><td>101</td><td>4</td><td>1.1</td><td>2.75</td><td>1.25</td><td>2</td><td>1.0625</td><td>1.5</td><td>-0.9815789</td><td>-0.3330326</td><td> 0.1875</td><td>-0.4</td><td>1.711131</td></tr>
	<tr><th scope=row>6</th><td>101</td><td>5</td><td>1.0</td><td>2.75</td><td>1.25</td><td>2</td><td>1.0625</td><td>1.5</td><td>-0.9815789</td><td>-0.3330326</td><td> 0.1875</td><td>-0.5</td><td>1.645335</td></tr>
</tbody>
</table>

</div>



<h3 id="获取参数的置信区间"><a href="#获取参数的置信区间" class="headerlink" title="获取参数的置信区间"></a>获取参数的置信区间</h3><p>可以使用confint函数获取参数的置信区间， 但是结果比较难看懂， 因为里面很多参数是我们不熟悉的（sig01， sig02 等），<br>因为这些参数的名字其实是来自于模型的推导中用到的， 你没有深入了解过混合效应模型的参数估计方法， 你可能看不懂，<br>不过， 我们只能试着让你有一个感性认识：</p>
<ul>
<li>.sig01 随机截距的标准差， 如果你想获得方差的置信区间， 只需要把这个值平方一下</li>
<li>sig02 随机截距和随机斜率的相关系数</li>
<li>sig03 随机斜率的标准差</li>
<li>sigma 残差标准差</li>
</ul>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">confint<span class="punctuation">(</span>model1<span class="punctuation">)</span></span><br></pre></td></tr></table></figure>


<div class="output" contenteditable="true">
输出(stream):<br>
Computing profile confidence intervals ...


</div>




<div class="output" contenteditable="true">
输出(html):<br>
<table class="dataframe">
<caption>A matrix: 9 × 2 of type dbl</caption>
<thead>
	<tr><th></th><th scope=col>2.5 %</th><th scope=col>97.5 %</th></tr>
</thead>
<tbody>
	<tr><th scope=row>.sig01</th><td> 0.40390297</td><td> 0.52245693</td></tr>
	<tr><th scope=row>.sig02</th><td> 0.27635505</td><td> 0.77129752</td></tr>
	<tr><th scope=row>.sig03</th><td> 0.25230527</td><td> 0.45069358</td></tr>
	<tr><th scope=row>.sigma</th><td> 0.60962930</td><td> 0.66244352</td></tr>
	<tr><th scope=row>(Intercept)</th><td> 2.60530435</td><td> 2.78468853</td></tr>
	<tr><th scope=row>day</th><td>-0.08058845</td><td>-0.05099124</td></tr>
	<tr><th scope=row>stress_trait_c</th><td> 0.88249219</td><td> 1.19390741</td></tr>
	<tr><th scope=row>stress_state</th><td> 0.67339998</td><td> 0.85449747</td></tr>
	<tr><th scope=row>stress_trait_c:stress_state</th><td>-0.03788643</td><td> 0.34703329</td></tr>
</tbody>
</table>

</div>



<h2 id="可视化"><a href="#可视化" class="headerlink" title="可视化"></a>可视化</h2><p>先看被试层面的变量， negaff_trait 是消极情绪特质， 其实就是每天的消极情绪取被试内的均值， 代表了被试每天的平均消极情绪，<br>这个变量很可能受到压力特质（被试每天压力状态的一个被试内均值）的影响， 因此可以绘制这两个变量的关系：</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">ggplot<span class="punctuation">(</span>data<span class="operator">=</span>personmeans<span class="punctuation">,</span> aes<span class="punctuation">(</span>x<span class="operator">=</span>stress_trait<span class="punctuation">,</span> y<span class="operator">=</span>negaff_trait<span class="punctuation">,</span> group<span class="operator">=</span>factor<span class="punctuation">(</span>id<span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">,</span> legend<span class="operator">=</span><span class="literal">FALSE</span><span class="punctuation">)</span> <span class="operator">+</span></span><br><span class="line">  geom_point<span class="punctuation">(</span>colour<span class="operator">=</span><span class="string">&quot;gray40&quot;</span><span class="punctuation">)</span> <span class="operator">+</span></span><br><span class="line">  geom_smooth<span class="punctuation">(</span>aes<span class="punctuation">(</span>group<span class="operator">=</span><span class="number">1</span><span class="punctuation">)</span><span class="punctuation">,</span> method<span class="operator">=</span>lm<span class="punctuation">,</span> se<span class="operator">=</span><span class="literal">FALSE</span><span class="punctuation">,</span> fullrange<span class="operator">=</span><span class="literal">FALSE</span><span class="punctuation">,</span> lty<span class="operator">=</span><span class="number">1</span><span class="punctuation">,</span> size<span class="operator">=</span><span class="number">2</span><span class="punctuation">,</span> color<span class="operator">=</span><span class="string">&quot;blue&quot;</span><span class="punctuation">)</span> <span class="operator">+</span></span><br><span class="line">  xlab<span class="punctuation">(</span><span class="string">&quot;Trait Stress&quot;</span><span class="punctuation">)</span> <span class="operator">+</span> ylab<span class="punctuation">(</span><span class="string">&quot;Trait Negative Affect&quot;</span><span class="punctuation">)</span> <span class="operator">+</span></span><br><span class="line">  theme_classic<span class="punctuation">(</span><span class="punctuation">)</span> <span class="operator">+</span></span><br><span class="line">  theme<span class="punctuation">(</span>axis.title<span class="operator">=</span>element_text<span class="punctuation">(</span>size<span class="operator">=</span><span class="number">16</span><span class="punctuation">)</span><span class="punctuation">,</span></span><br><span class="line">        axis.text<span class="operator">=</span>element_text<span class="punctuation">(</span>size<span class="operator">=</span><span class="number">12</span><span class="punctuation">)</span><span class="punctuation">,</span></span><br><span class="line">        plot.title<span class="operator">=</span>element_text<span class="punctuation">(</span>size<span class="operator">=</span><span class="number">16</span><span class="punctuation">,</span> hjust<span class="operator">=</span><span class="number">.5</span><span class="punctuation">)</span><span class="punctuation">)</span> <span class="operator">+</span></span><br><span class="line">  ggtitle<span class="punctuation">(</span><span class="string">&quot;Between-Person Association Plot\nTrait Stress &amp; Negative Affect&quot;</span><span class="punctuation">)</span></span><br></pre></td></tr></table></figure>


<div class="output" contenteditable="true">
输出(stream):<br>
Warning message:
"[1m[22mUsing `size` aesthetic for lines was deprecated in ggplot2 3.4.0.
[36mℹ[39m Please use `linewidth` instead."
[1m[22m`geom_smooth()` using formula = 'y ~ x'

</div>



<img src="/2023/09/02/%E5%A4%9A%E5%B1%82%E6%A8%A1%E5%9E%8B%E5%8F%8A%E5%85%B6%E4%BA%A4%E4%BA%92%E6%95%88%E5%BA%94%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/output_34_1.png" class="">


<p>下面绘制negaff_state和stress_state的关系 ， 因为这两个变量都是日测数据， 因此每个被试都应当是不同的。</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">ggplot<span class="punctuation">(</span>data<span class="operator">=</span>ddata_long<span class="punctuation">,</span> aes<span class="punctuation">(</span>x<span class="operator">=</span>stress_state<span class="punctuation">,</span> y<span class="operator">=</span>negaff_state<span class="punctuation">,</span> group<span class="operator">=</span>factor<span class="punctuation">(</span>id<span class="punctuation">)</span><span class="punctuation">,</span> colour<span class="operator">=</span><span class="string">&quot;gray&quot;</span><span class="punctuation">)</span><span class="punctuation">,</span> legend<span class="operator">=</span><span class="literal">FALSE</span><span class="punctuation">)</span> <span class="operator">+</span></span><br><span class="line">  geom_smooth<span class="punctuation">(</span>method<span class="operator">=</span>lm<span class="punctuation">,</span> se<span class="operator">=</span><span class="literal">FALSE</span><span class="punctuation">,</span> fullrange<span class="operator">=</span><span class="literal">FALSE</span><span class="punctuation">,</span> lty<span class="operator">=</span><span class="number">1</span><span class="punctuation">,</span> size<span class="operator">=</span><span class="number">.5</span><span class="punctuation">,</span> color<span class="operator">=</span><span class="string">&quot;gray40&quot;</span><span class="punctuation">)</span> <span class="operator">+</span></span><br><span class="line">  geom_smooth<span class="punctuation">(</span>aes<span class="punctuation">(</span>group<span class="operator">=</span><span class="number">1</span><span class="punctuation">)</span><span class="punctuation">,</span> method<span class="operator">=</span>lm<span class="punctuation">,</span> se<span class="operator">=</span><span class="literal">FALSE</span><span class="punctuation">,</span> fullrange<span class="operator">=</span><span class="literal">FALSE</span><span class="punctuation">,</span> lty<span class="operator">=</span><span class="number">1</span><span class="punctuation">,</span> size<span class="operator">=</span><span class="number">2</span><span class="punctuation">,</span> color<span class="operator">=</span><span class="string">&quot;blue&quot;</span><span class="punctuation">)</span> <span class="operator">+</span></span><br><span class="line">  xlab<span class="punctuation">(</span><span class="string">&quot;Stress State&quot;</span><span class="punctuation">)</span> <span class="operator">+</span> ylab<span class="punctuation">(</span><span class="string">&quot;Predicted State Negative Affect&quot;</span><span class="punctuation">)</span> <span class="operator">+</span></span><br><span class="line">  theme_classic<span class="punctuation">(</span><span class="punctuation">)</span> <span class="operator">+</span></span><br><span class="line">  theme<span class="punctuation">(</span>axis.title<span class="operator">=</span>element_text<span class="punctuation">(</span>size<span class="operator">=</span><span class="number">18</span><span class="punctuation">)</span><span class="punctuation">,</span></span><br><span class="line">        axis.text<span class="operator">=</span>element_text<span class="punctuation">(</span>size<span class="operator">=</span><span class="number">14</span><span class="punctuation">)</span><span class="punctuation">,</span></span><br><span class="line">        plot.title<span class="operator">=</span>element_text<span class="punctuation">(</span>size<span class="operator">=</span><span class="number">18</span><span class="punctuation">,</span> hjust<span class="operator">=</span><span class="number">.5</span><span class="punctuation">)</span><span class="punctuation">)</span> <span class="operator">+</span></span><br><span class="line">  ggtitle<span class="punctuation">(</span><span class="string">&quot;Within-Person Association Plot\nPerceived Stress &amp; Negative Affect&quot;</span><span class="punctuation">)</span></span><br></pre></td></tr></table></figure>


<div class="output" contenteditable="true">
输出(stream):<br>
[1m[22m`geom_smooth()` using formula = 'y ~ x'
Warning message:
"[1m[22mRemoved 20 rows containing non-finite values (`stat_smooth()`)."
[1m[22m`geom_smooth()` using formula = 'y ~ x'
Warning message:
"[1m[22mRemoved 20 rows containing non-finite values (`stat_smooth()`)."

</div>




<img src="/2023/09/02/%E5%A4%9A%E5%B1%82%E6%A8%A1%E5%9E%8B%E5%8F%8A%E5%85%B6%E4%BA%A4%E4%BA%92%E6%95%88%E5%BA%94%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/output_36_1.png" class="">

<h2 id="增加神经质变量作为预测变量"><a href="#增加神经质变量作为预测变量" class="headerlink" title="增加神经质变量作为预测变量"></a>增加神经质变量作为预测变量</h2><p>bfi_n_c 是大五人格量表中的神经质变量， 它经过处理得到了中心化后的变量，<br>这个变量中心化的目的也是因为这个变量会参与调节效应， 构建模型如下：</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># fit model</span></span><br><span class="line">model2 <span class="operator">&lt;-</span> lmer<span class="punctuation">(</span>formula <span class="operator">=</span> negaff <span class="operator">~</span> <span class="number">1</span> <span class="operator">+</span> day <span class="operator">+</span> stress_trait_c <span class="operator">+</span> </span><br><span class="line">                      bfi_n_c <span class="operator">+</span> stress_trait_c<span class="operator">:</span>bfi_n_c <span class="operator">+</span></span><br><span class="line">                      stress_state <span class="operator">+</span> stress_state<span class="operator">:</span>stress_trait_c <span class="operator">+</span> </span><br><span class="line">                      stress_state<span class="operator">:</span>bfi_n_c <span class="operator">+</span> stress_state<span class="operator">:</span>stress_trait_c<span class="operator">:</span>bfi_n_c <span class="operator">+</span> </span><br><span class="line">                      <span class="punctuation">(</span><span class="number">1</span> <span class="operator">+</span> stress_state<span class="operator">|</span>id<span class="punctuation">)</span><span class="punctuation">,</span></span><br><span class="line">                    data<span class="operator">=</span>ddata_long<span class="punctuation">,</span></span><br><span class="line">                    na.action<span class="operator">=</span>na.exclude<span class="punctuation">)</span></span><br><span class="line"><span class="comment">#Look at results</span></span><br><span class="line">summary<span class="punctuation">(</span>model2<span class="punctuation">)</span></span><br></pre></td></tr></table></figure>



<div class="output">
输出(plain):<br/>

    Linear mixed model fit by REML. t-tests use Satterthwaite's method [
    <br />lmerModLmerTest]
    <br />Formula: 
    <br />negaff ~ 1 + day + stress_trait_c + bfi_n_c + stress_trait_c:bfi_n_c +  
    <br />    stress_state + stress_state:stress_trait_c + stress_state:bfi_n_c +  
    <br />    stress_state:stress_trait_c:bfi_n_c + (1 + stress_state |      id)
    <br />   Data: ddata_long
    <br />
    <br />REML criterion at convergence: 3161.8
    <br />
    <br />Scaled residuals: 
    <br />    Min      1Q  Median      3Q     Max 
    <br />-3.4271 -0.6011 -0.0749  0.5045  4.4732 
    <br />
    <br />Random effects:
    <br /> Groups   Name         Variance Std.Dev. Corr
    <br /> id       (Intercept)  0.1955   0.4422       
    <br />          stress_state 0.1238   0.3518   0.51
    <br /> Residual              0.4040   0.6356       
    <br />Number of obs: 1438, groups:  id, 190
    <br />
    <br />Fixed effects:
    <br />                                      Estimate Std. Error         df t value
    <br />(Intercept)                          2.690e+00  4.556e-02  3.944e+02  59.055
    <br />day                                 -6.545e-02  7.572e-03  1.247e+03  -8.644
    <br />stress_trait_c                       9.695e-01  7.878e-02  1.835e+02  12.307
    <br />bfi_n_c                              1.543e-01  3.917e-02  1.809e+02   3.939
    <br />stress_state                         7.687e-01  4.682e-02  1.673e+02  16.418
    <br />stress_trait_c:bfi_n_c               3.715e-02  7.832e-02  1.824e+02   0.474
    <br />stress_trait_c:stress_state          1.254e-01  1.015e-01  1.692e+02   1.235
    <br />bfi_n_c:stress_state                 7.595e-02  4.845e-02  1.549e+02   1.568
    <br />stress_trait_c:bfi_n_c:stress_state -3.167e-02  1.024e-01  1.722e+02  -0.309
    <br />                                    Pr(>|t|)    
    <br />(Intercept)                          < 2e-16 ***
    <br />day                                  < 2e-16 ***
    <br />stress_trait_c                       < 2e-16 ***
    <br />bfi_n_c                             0.000117 ***
    <br />stress_state                         < 2e-16 ***
    <br />stress_trait_c:bfi_n_c              0.635819    
    <br />stress_trait_c:stress_state         0.218473    
    <br />bfi_n_c:stress_state                0.119006    
    <br />stress_trait_c:bfi_n_c:stress_state 0.757565    
    <br />---
    <br />Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
    <br />
    <br />Correlation of Fixed Effects:
    <br />            (Intr) day    strs__ bf_n_c strss_ st__:__ st__:_ bf__:_
    <br />day         -0.576                                                  
    <br />strss_trt_c  0.003  0.005                                           
    <br />bfi_n_c     -0.008  0.007 -0.224                                    
    <br />stress_stat  0.204  0.004  0.000  0.001                             
    <br />strss_t_:__ -0.179  0.008  0.008  0.040 -0.054                      
    <br />strss_tr_:_  0.042 -0.073  0.248 -0.056 -0.087  0.003               
    <br />bf_n_c:str_ -0.033  0.058 -0.058  0.258  0.016  0.009  -0.244       
    <br />strs__:__:_ -0.061  0.032  0.004  0.008 -0.233  0.243  -0.103 -0.059

</div>



<h3 id="结果解读-1"><a href="#结果解读-1" class="headerlink" title="结果解读"></a>结果解读</h3><h4 id="固定效应"><a href="#固定效应" class="headerlink" title="固定效应"></a>固定效应</h4><ul>
<li>(Intercept): 截距项， stress_trait_c  和 bfi_n_c 都取0的时候（均值）， 因变量的期望是 2.69</li>
<li>stress_trait_c ： 被试的压力特质越高， 感受到的消极情绪越多</li>
<li>bfi_n_c ： 神经质得分越高的人感受到的消极情绪越多(0.15, p &#x3D; 0)</li>
<li>stress_state ： 当天感受压力越大， 当天的消极情绪越多（0.77， p&#x3D;0）</li>
<li>stress_trait_c:bfi_n_c ： 神经质对压力特质的调节效应不显著(0.04, p &#x3D; 0.64)</li>
<li>stress_trait_c:stress_state ： 压力特质对日间压力状态没有调节效应(0.13, p &#x3D; 0.22)</li>
<li>bfi_n_c:stress_state: 神经质对日间压力状态没有调节效应(0.08, p &#x3D; 0.12)</li>
<li>stress_trait_c:bfi_n_c:stress_state： 神经质对压力特质和压力状态的调节效应的调节作用不显著</li>
</ul>
<h4 id="随机效应"><a href="#随机效应" class="headerlink" title="随机效应"></a>随机效应</h4><p>与之前的结论一致， 在此略去</p>
<p>获取模型预测值</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ddata_long<span class="operator">$</span>pred_m2 <span class="operator">&lt;-</span> predict<span class="punctuation">(</span>model2<span class="punctuation">)</span></span><br><span class="line">head<span class="punctuation">(</span>ddata_long<span class="punctuation">)</span></span><br></pre></td></tr></table></figure>



<div class="output" contenteditable="true">
输出(html):<br>
<table class="dataframe">
<caption>A data.frame: 6 × 14</caption>
<thead>
	<tr><th></th><th scope=col>id</th><th scope=col>day</th><th scope=col>negaff</th><th scope=col>pss</th><th scope=col>stress</th><th scope=col>bfi_n</th><th scope=col>stress_trait</th><th scope=col>negaff_trait</th><th scope=col>bfi_n_c</th><th scope=col>stress_trait_c</th><th scope=col>stress_state</th><th scope=col>negaff_state</th><th scope=col>pred_m1</th><th scope=col>pred_m2</th></tr>
	<tr><th></th><th scope=col>&lt;int&gt;</th><th scope=col>&lt;int&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl[,1]&gt;</th><th scope=col>&lt;dbl[,1]&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th></tr>
</thead>
<tbody>
	<tr><th scope=row>1</th><td>101</td><td>0</td><td>3.0</td><td>2.50</td><td>1.50</td><td>2</td><td>1.0625</td><td>1.5</td><td>-0.9815789</td><td>-0.3330326</td><td> 0.4375</td><td> 1.5</td><td>2.122456</td><td>2.097006</td></tr>
	<tr><th scope=row>2</th><td>101</td><td>1</td><td>2.3</td><td>2.75</td><td>1.25</td><td>2</td><td>1.0625</td><td>1.5</td><td>-0.9815789</td><td>-0.3330326</td><td> 0.1875</td><td> 0.8</td><td>1.908520</td><td>1.888382</td></tr>
	<tr><th scope=row>3</th><td>101</td><td>2</td><td>1.0</td><td>3.50</td><td>0.50</td><td>2</td><td>1.0625</td><td>1.5</td><td>-0.9815789</td><td>-0.3330326</td><td>-0.5625</td><td>-0.5</td><td>1.398305</td><td>1.393416</td></tr>
	<tr><th scope=row>4</th><td>101</td><td>3</td><td>1.3</td><td>3.00</td><td>1.00</td><td>2</td><td>1.0625</td><td>1.5</td><td>-0.9815789</td><td>-0.3330326</td><td>-0.0625</td><td>-0.2</td><td>1.628788</td><td>1.614307</td></tr>
	<tr><th scope=row>5</th><td>101</td><td>4</td><td>1.1</td><td>2.75</td><td>1.25</td><td>2</td><td>1.0625</td><td>1.5</td><td>-0.9815789</td><td>-0.3330326</td><td> 0.1875</td><td>-0.4</td><td>1.711131</td><td>1.692027</td></tr>
	<tr><th scope=row>6</th><td>101</td><td>5</td><td>1.0</td><td>2.75</td><td>1.25</td><td>2</td><td>1.0625</td><td>1.5</td><td>-0.9815789</td><td>-0.3330326</td><td> 0.1875</td><td>-0.5</td><td>1.645335</td><td>1.626575</td></tr>
</tbody>
</table>

</div>



<h2 id="调节效应的绘制"><a href="#调节效应的绘制" class="headerlink" title="调节效应的绘制"></a>调节效应的绘制</h2><p>根据上面的结果，stress_state:bfi_n_c的调节效应是显著的， 意味着我们有必要进一步将调节效应可视化，<br>通常我们有两种可视化调节效应的方法， 1是选点法， 就是自变量和调节变量选择 M±SD 的值作为点， 绘制在不同调节变量取值下， 自变量与因变量的关系；<br>另一种方法是绘制JN图，它可以看到调节变量取值什么范围内， 自变量对因变量的效应是显著的。</p>
<h2 id="选点法"><a href="#选点法" class="headerlink" title="选点法"></a>选点法</h2><p>我们先看下自变量和调节变量的描述性统计， 因为我们需要用到均值和标准差。</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">describe<span class="punctuation">(</span>ddata_long<span class="operator">$</span>bfi_n_c<span class="punctuation">)</span></span><br><span class="line">describe<span class="punctuation">(</span>ddata_long<span class="operator">$</span>stress_state<span class="punctuation">)</span></span><br></pre></td></tr></table></figure>



<div class="output" contenteditable="true">
输出(html):<br>
<table class="dataframe">
<caption>A psych: 1 × 13</caption>
<thead>
	<tr><th></th><th scope=col>vars</th><th scope=col>n</th><th scope=col>mean</th><th scope=col>sd</th><th scope=col>median</th><th scope=col>trimmed</th><th scope=col>mad</th><th scope=col>min</th><th scope=col>max</th><th scope=col>range</th><th scope=col>skew</th><th scope=col>kurtosis</th><th scope=col>se</th></tr>
	<tr><th></th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th></tr>
</thead>
<tbody>
	<tr><th scope=row>X1</th><td>1</td><td>1458</td><td>-0.01210021</td><td>0.9564619</td><td>0.01842105</td><td>0.002582012</td><td>1.4826</td><td>-1.981579</td><td>2.018421</td><td>4</td><td>-0.07586913</td><td>-0.7908849</td><td>0.02504891</td></tr>
</tbody>
</table>

</div>





<div class="output" contenteditable="true">
输出(html):<br>
<table class="dataframe">
<caption>A psych: 1 × 13</caption>
<thead>
	<tr><th></th><th scope=col>vars</th><th scope=col>n</th><th scope=col>mean</th><th scope=col>sd</th><th scope=col>median</th><th scope=col>trimmed</th><th scope=col>mad</th><th scope=col>min</th><th scope=col>max</th><th scope=col>range</th><th scope=col>skew</th><th scope=col>kurtosis</th><th scope=col>se</th></tr>
	<tr><th></th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th></tr>
</thead>
<tbody>
	<tr><th scope=row>X1</th><td>1</td><td>1445</td><td>2.378342e-18</td><td>0.4943735</td><td>-0.03125</td><td>-0.01547413</td><td>0.4633125</td><td>-1.75</td><td>2.125</td><td>3.875</td><td>0.3580108</td><td>0.7924172</td><td>0.01300533</td></tr>
</tbody>
</table>

</div>



<p>我们使用 effect 函数来计算不同自变量和调节变量取值下因变量的值， effect 函数的term参数就是你关注的交互项，即自变量和调节变量的乘积。<br>mod 参数就是我们之前拟合得到的模型； xlevels 用于设置选点值， 比如自变量stress_state的正负一个标准差的值就是c(-0.49,+0.49) 。</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#calculate effect</span></span><br><span class="line">effects_model2 <span class="operator">&lt;-</span> effect<span class="punctuation">(</span>term<span class="operator">=</span><span class="string">&quot;bfi_n_c*stress_state&quot;</span><span class="punctuation">,</span> mod<span class="operator">=</span>model2<span class="punctuation">,</span>xlevels<span class="operator">=</span><span class="built_in">list</span><span class="punctuation">(</span>bfi_n_c<span class="operator">=</span><span class="built_in">c</span><span class="punctuation">(</span><span class="operator">-</span><span class="number">0.96</span><span class="punctuation">,</span> <span class="operator">+</span><span class="number">0.96</span><span class="punctuation">)</span><span class="punctuation">,</span> stress_state<span class="operator">=</span><span class="built_in">c</span><span class="punctuation">(</span><span class="operator">-</span><span class="number">0.49</span><span class="punctuation">,</span><span class="operator">+</span><span class="number">0.49</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">)</span></span><br><span class="line">summary<span class="punctuation">(</span>effects_model2<span class="punctuation">)</span></span><br></pre></td></tr></table></figure>


<div class="output" contenteditable="true">
输出(stream):<br>
NOTE: bfi_n_c:stress_state is not a high-order term in the model

Warning message in Analyze.model(focal.predictors, mod, xlevels, default.levels, :
"the predictors stress_trait_c, bfi_n_c are one-column matrices that were converted to vectors"

</div>




<div class="output">
输出(plain):<br/>

    
    <br /> bfi_n_c*stress_state effect
    <br />       stress_state
    <br />bfi_n_c    -0.49     0.49
    <br />  -0.96 1.964450 2.644774
    <br />  0.96  2.188157 3.011998
    <br />
    <br /> Lower 95 Percent Confidence Limits
    <br />       stress_state
    <br />bfi_n_c    -0.49     0.49
    <br />  -0.96 1.858012 2.510688
    <br />  0.96  2.080619 2.876440
    <br />
    <br /> Upper 95 Percent Confidence Limits
    <br />       stress_state
    <br />bfi_n_c    -0.49     0.49
    <br />  -0.96 2.070889 2.778860
    <br />  0.96  2.295694 3.147556

</div>



<p>这个结果输出的是自变量和调节变量不同取值下， 因变量的值； 同时输出了因变量值的95%置信区间。有了这些数据， 我们就可以绘制简单效应图。</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#convert to dataframe</span></span><br><span class="line">effectsdata <span class="operator">&lt;-</span> as.data.frame<span class="punctuation">(</span>effects_model2<span class="punctuation">)</span></span><br><span class="line"><span class="comment">#plotting the effect evaluation (with standard error ribbon)</span></span><br><span class="line">ggplot<span class="punctuation">(</span>data<span class="operator">=</span>effectsdata<span class="punctuation">,</span> aes<span class="punctuation">(</span>x<span class="operator">=</span>stress_state<span class="punctuation">,</span> y<span class="operator">=</span>fit<span class="punctuation">,</span> group<span class="operator">=</span>bfi_n_c<span class="punctuation">)</span><span class="punctuation">,</span> legend<span class="operator">=</span><span class="literal">FALSE</span><span class="punctuation">)</span> <span class="operator">+</span> </span><br><span class="line">  geom_point<span class="punctuation">(</span><span class="punctuation">)</span> <span class="operator">+</span></span><br><span class="line">  geom_line<span class="punctuation">(</span><span class="punctuation">)</span> <span class="operator">+</span></span><br><span class="line">  <span class="comment">#geom_ribbon(aes(ymin=lower, ymax=upper), alpha=.3) +</span></span><br><span class="line">  geom_errorbar<span class="punctuation">(</span>aes<span class="punctuation">(</span>ymin<span class="operator">=</span>lower<span class="punctuation">,</span> ymax<span class="operator">=</span>upper<span class="punctuation">)</span><span class="punctuation">,</span> width<span class="operator">=</span><span class="number">.15</span><span class="punctuation">)</span> <span class="operator">+</span></span><br><span class="line">  xlab<span class="punctuation">(</span><span class="string">&quot;Stress State&quot;</span><span class="punctuation">)</span> <span class="operator">+</span> xlim<span class="punctuation">(</span><span class="operator">-</span><span class="number">2</span><span class="punctuation">,</span><span class="number">2</span><span class="punctuation">)</span> <span class="operator">+</span></span><br><span class="line">  ylab<span class="punctuation">(</span><span class="string">&quot;Predicted Negative Affect&quot;</span><span class="punctuation">)</span> <span class="operator">+</span> ylim<span class="punctuation">(</span><span class="number">1</span><span class="punctuation">,</span><span class="number">7</span><span class="punctuation">)</span> <span class="operator">+</span></span><br><span class="line">  ggtitle<span class="punctuation">(</span><span class="string">&quot;Differences in Stress Reactivity across Neuroticism&quot;</span><span class="punctuation">)</span></span><br></pre></td></tr></table></figure>




<p>johnson_neyman 这个函数可以用于绘制 JN图 ， 关于这个图的原理可以看这篇文章<a href="https://mlln.cn/2023/08/23/Johnson-Neyman%E5%9B%BE%E5%8E%9F%E7%90%86%E5%92%8C%E5%88%B6%E4%BD%9CExcel%E5%B7%A5%E5%85%B7%E5%88%86%E4%BA%AB/">《Johnson-Neyman图原理和制作Excel工具分享》</a>， 并且这篇文章介绍了<a href="https://mlln.cn/2023/08/23/Johnson-Neyman%E5%9B%BE%E5%8E%9F%E7%90%86%E5%92%8C%E5%88%B6%E4%BD%9CExcel%E5%B7%A5%E5%85%B7%E5%88%86%E4%BA%AB/">如何使用excel绘制JN图</a>。</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">johnson_neyman<span class="punctuation">(</span>model<span class="operator">=</span>model2<span class="punctuation">,</span> pred<span class="operator">=</span>stress_state<span class="punctuation">,</span> modx<span class="operator">=</span>bfi_n_c<span class="punctuation">)</span></span><br></pre></td></tr></table></figure>



<div class="output">
输出(plain):<br/>

    [1m[4mJOHNSON-NEYMAN INTERVAL[24m[22m 
    <br />
    <br />When bfi_n_c is [7mINSIDE[27m the interval [-4.45, 40.14], the slope of
    <br />stress_state is p < .05.
    <br />
    <br />[3mNote: The range of observed values of bfi_n_c is [23m[-1.98, 2.02]
    <br />

</div>




<img src="/2023/09/02/%E5%A4%9A%E5%B1%82%E6%A8%A1%E5%9E%8B%E5%8F%8A%E5%85%B6%E4%BA%A4%E4%BA%92%E6%95%88%E5%BA%94%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/output_50_1.png" class="">

<h1 id="一些有用函数"><a href="#一些有用函数" class="headerlink" title="一些有用函数"></a>一些有用函数</h1><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BIC<span class="punctuation">(</span>logLik<span class="punctuation">(</span>model2<span class="punctuation">)</span><span class="punctuation">)</span></span><br></pre></td></tr></table></figure>



<div class="output" contenteditable="true">
输出(html):<br>
3256.29897530418
</div>




<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">logLik<span class="punctuation">(</span>logLik<span class="punctuation">(</span>model2<span class="punctuation">)</span><span class="punctuation">)</span></span><br></pre></td></tr></table></figure>



<div class="output">
输出(plain):<br/>

    'log Lik.' -1580.888 (df=13)

</div>




<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BIC<span class="punctuation">(</span>logLik<span class="punctuation">(</span>model2<span class="punctuation">)</span><span class="punctuation">)</span></span><br></pre></td></tr></table></figure>



<div class="output" contenteditable="true">
输出(html):<br>
3256.29897530418
</div>





<h1 id="数据下载"><a href="#数据下载" class="headerlink" title="数据下载"></a>数据下载</h1><p>本教程所有用到的代码和数据都可以在这里下载。</p>
<blockquote>
<p><strong>注意</strong><br>统计咨询请加QQ 2726725926, 微信 shujufenxidaizuo,  SPSS统计咨询是收费的, 不论什么模型都可以, 只限制于1个研究内.</p>
</blockquote>

    </div>

    

    
        <div class="post-tags">
            <i class="fa fa-tags" aria-hidden="true"></i>
            <a href="/tags/调节效应/">#调节效应</a> <a href="/tags/R语言/">#R语言</a> <a href="/tags/多层次模型/">#多层次模型</a> <a href="/tags/混合效应/">#混合效应</a>
        </div>
    



</div>
        </section>
        <section>
                <div class="content" style="color: #d7ecff">
                <h3 id="xingqiu"><a href="#星球" class="headerlink" title="星球"></a>统计咨询</h3>
                <p>统计咨询请加入我的星球,有问必回</p> 
                <p>加入星球向我提问(必回),下载资料,数据,软件等</p>
                <p><img src="/img/知识星球优惠券.png" class="img-thumbnail" style="width: 238px; height: 302px;"><img src="/img/知识星球.jpg" class="img-thumbnail" style="width: 238px; height: 302px;"></p>
            </div>
        </section>
        <section>
            <div class="content" style="color: #d7ecff">
                <h3 id="赞助"><a href="#赞助" class="headerlink" title="赞助"></a>赞助</h3>
                <p>持续创造有价值的内容, 我需要你的帮助</p>
                <p><img src="/img/收款二维码.png" class="img-thumbnail"></p>
            </div>
        </section>


    </div>

    <!-- rightside -->
    <div class="col-md-3 col-sm-12 rightside">
        <div class="related-posts">
    <h3>
        <a href="#">
            赞助推荐
        </a>
    </h3>
    <div class="page_list">
        
            <div class="archive-post">
                <a href="/mplus-model-templates">Mplus 中介和调节教程PPT</a>
            </div>
        
            <div class="archive-post">
                <a href="https://mlln.cn/2019/12/26/2020%E5%B9%B4%E5%A4%A7%E5%AD%A6%E7%94%9F%E6%AF%95%E4%B8%9A%E8%AE%BA%E6%96%87%E9%97%AE%E5%8D%B7%E4%BA%92%E5%A1%AB%E7%BE%A4%E6%8E%A8%E8%8D%90/">大学生问卷互填群</a>
            </div>
        
            <div class="archive-post">
                <a target="_blank" rel="noopener" href="https://item.taobao.com/item.htm?spm=2013.1.w4023-21724689242.4.76085e0a2k46Ky&amp;id=601314051411">问卷代填保证质量</a>
            </div>
        
    </div>
</div>
<div class="related-posts">
    <h3>
        常用工具
    </h3>
    <div class="page_list">
        <div class="archive-post">
            <a href="/2023/07/08/spss数据sav格式转换器（在线）/">Excel和SPSS转Mplus数据格式工具</a>
        </div>
        <div class="archive-post">
            <a href="/mplusoutput/">Mplus结果查看器</a>
        </div>
        <div class="archive-post">
            <a href="/drawio/">绘图软件</a>
        </div>
        <div class="archive-post">
            <a href="/2018/09/26/在线绘制中介效应图/">
                在线绘制中介效应图
            </a>
        </div>
        <div class="archive-post">
            <a href="/neural/">神经网络可视化</a>
        </div>
        <div class="archive-post">
            <a href="/psychopy/">psychopy教程</a>
        </div>
        <div class="archive-post">
            <a href="/vector/">[词向量]高维向量可视化</a>
        </div>
        <div class="archive-post">
            <a href="/demos/evolutionSimulator/">[tensorflow.js案例]进化算法演示</a>
        </div>
        <div class="archive-post">
            <a href="/guideToPython/">[书]Python最佳实践</a>
        </div>
        <div class="archive-post">
            <a href="/2017/10/10/sobel检验原理和一键计算器/">Sobel检验计算器</a>
        </div>
        <div class="archive-post">
            <a href="/2019/09/06/spss计算平均方差提取量AVE和组合信度CR的方法/">平均方差提取量AVE和组合信度CR计算器</a>
        </div>
        <div class="archive-post">
            <a href="/2017/12/12/JavaScript做的表格卡方检验-一键在线测试/">卡方检验计算器</a>
        </div>
        <div class="archive-post">
            <a href="/2020/03/22/SPSS做简单调节效应分析Model-1-Of-Process/">简单交互效应可视化工具</a>
        </div>
        <div class="archive-post">
            <a href="/2020/10/10/P值显著性计算器/">P值显著性计算器</a>
        </div>
        <div class="archive-post">
            <a href="/2020/12/23/均值差异的效应量在线计算器/">两组均值差异的效应量在线计算器</a>
        </div>
        <div class="archive-post">
            <a href="https://mlln.cn/2020/09/17/%E5%8D%A1%E6%96%B9%E5%B7%AE%E5%80%BC%E7%9A%84%E6%98%BE%E8%91%97%E6%80%A7%E6%A3%80%E9%AA%8C/">卡方差值的显著性检验</a>
        </div>
        
    </div>
</div>



<div class="related-posts">
    <div class="archive-post">
        <a href="#">Python数据科学技术交流QQ群:116384132</a>
    </div>
    <div class="archive-post">
        <a href="#">SPSS/Stata统计分析QQ群:572803384</a>
    </div>
    <div class="archive-post">
        <a href="#">如果你有其他有价值的群,想放到这里分享,可以联系我QQ675495787</a>
    </div>
</div>
<div class="related-posts">
    <h3>
        <a href="/tags/调节效应/">
            调节效应
        </a>
    </h3>
    <div class="page_list">
        
            <div class="archive-post">
                <a href="/2024/10/18/mplus%E7%BB%98%E5%88%B6%E8%B0%83%E8%8A%82%E6%95%88%E5%BA%94%E5%9B%BE/">
                    mplus绘制调节效应图
                </a>
            </div>
            
            <div class="archive-post">
                <a href="/2024/05/20/mplus%E4%B8%AD%E4%BB%8B%E3%80%81%E8%B0%83%E8%8A%82%E5%92%8C%E6%9C%89%E8%B0%83%E8%8A%82%E7%9A%84%E4%B8%AD%E4%BB%8B%E6%95%99%E7%A8%8B/">
                    mplus中介、调节和有调节的中介教程
                </a>
            </div>
            
            <div class="archive-post">
                <a href="/2023/10/23/%E8%B0%83%E8%8A%82%E6%95%88%E5%BA%94%E5%88%86%E6%9E%90%E6%97%B6%E6%98%AF%E5%90%A6%E9%9C%80%E8%A6%81%E5%81%9A%E5%8F%98%E9%87%8F%E4%B8%AD%E5%BF%83%E5%8C%96/">
                    A调节效应分析时是否需要做变量中心化
                </a>
            </div>
            
            <div class="archive-post">
                <a href="/2023/10/12/%E4%BA%A4%E4%BA%92%E6%95%88%E5%BA%94%E4%B8%AD%E7%AE%80%E5%8D%95%E6%96%9C%E7%8E%87%E7%BB%98%E5%88%B6%E6%9C%80%E5%BC%BAexcel%E6%A8%A1%E6%9D%BF%E6%95%99%E7%A8%8B%E5%92%8C%E4%B8%8B%E8%BD%BD/">
                    交互效应中简单斜率绘制最强excel模板教程和下载
                </a>
            </div>
            
            <div class="archive-post">
                <a href="/2023/09/02/%E5%A4%9A%E5%B1%82%E6%A8%A1%E5%9E%8B%E5%8F%8A%E5%85%B6%E4%BA%A4%E4%BA%92%E6%95%88%E5%BA%94%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/">
                    多层模型及其交互效应入门教程
                </a>
            </div>
            
            <div class="archive-post">
                <a href="/2023/08/23/Johnson-Neyman%E5%9B%BE%E5%8E%9F%E7%90%86%E5%92%8C%E5%88%B6%E4%BD%9CExcel%E5%B7%A5%E5%85%B7%E5%88%86%E4%BA%AB/">
                    Johnson-Neyman图原理和制作Excel工具分享
                </a>
            </div>
            
            <div class="archive-post">
                <a href="/2020/10/31/%E6%A8%A1%E5%9E%8B14%E6%9C%89%E8%B0%83%E8%8A%82%E7%9A%84%E4%B8%AD%E4%BB%8Bspss-process%E6%95%99%E7%A8%8B/">
                    SPSS+process做model14有调节的中介效应分析(图文+视频教程)
                </a>
            </div>
            
            <div class="archive-post">
                <a href="/2020/03/22/SPSS%E5%81%9A%E7%AE%80%E5%8D%95%E8%B0%83%E8%8A%82%E6%95%88%E5%BA%94%E5%88%86%E6%9E%90Model-1-Of-Process/">
                    SPSS做简单调节效应分析Model-1-Of-Process(视频教程+可视化工具)
                </a>
            </div>
            
    </div>
</div>


<div class="related-posts">
    <div class="archive-post">
        <a href="#">Python数据科学技术交流QQ群:116384132</a>
    </div>
    <div class="archive-post">
        <a href="#">SPSS/Stata统计分析QQ群:572803384</a>
    </div>
    <div class="archive-post">
        <a href="#">如果你有其他有价值的群,想放到这里分享,可以联系我QQ675495787</a>
    </div>
</div>
<div class="related-posts">
    <h3>
        <a href="/tags/R语言/">
            R语言
        </a>
    </h3>
    <div class="page_list">
        
            <div class="archive-post">
                <a href="/2024/01/04/%E8%B4%9D%E5%8F%B6%E6%96%AF%E7%BD%91%E7%BB%9C%E5%85%A5%E9%97%A8%E5%92%8C%E5%AE%9E%E8%B7%B5%E6%95%99%E7%A8%8B/">
                    贝叶斯网络入门和R代码实践视频教程
                </a>
            </div>
            
            <div class="archive-post">
                <a href="/2023/09/02/%E5%A4%9A%E5%B1%82%E6%A8%A1%E5%9E%8B%E5%8F%8A%E5%85%B6%E4%BA%A4%E4%BA%92%E6%95%88%E5%BA%94%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/">
                    多层模型及其交互效应入门教程
                </a>
            </div>
            
            <div class="archive-post">
                <a href="/2022/08/12/R%E4%B8%AD%E5%A6%82%E4%BD%95%E8%87%AA%E5%8A%A8%E6%95%B4%E7%90%86%E7%BB%93%E6%9E%9C%E4%B8%BA%E8%AE%BA%E6%96%87%E5%8F%AF%E7%94%A8%E6%A0%BC%E5%BC%8F/">
                    R中如何自动整理结果为论文可用格式
                </a>
            </div>
            
            <div class="archive-post">
                <a href="/2022/08/11/R%E8%AF%AD%E8%A8%80%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8%E7%BB%83%E4%B9%A0%E6%9D%90%E6%96%99/">
                    R语言快速入门练习材料
                </a>
            </div>
            
    </div>
</div>


<div class="related-posts">
    <div class="archive-post">
        <a href="#">Python数据科学技术交流QQ群:116384132</a>
    </div>
    <div class="archive-post">
        <a href="#">SPSS/Stata统计分析QQ群:572803384</a>
    </div>
    <div class="archive-post">
        <a href="#">如果你有其他有价值的群,想放到这里分享,可以联系我QQ675495787</a>
    </div>
</div>
<div class="related-posts">
    <h3>
        <a href="/tags/多层次模型/">
            多层次模型
        </a>
    </h3>
    <div class="page_list">
        
            <div class="archive-post">
                <a href="/2023/09/02/%E5%A4%9A%E5%B1%82%E6%A8%A1%E5%9E%8B%E5%8F%8A%E5%85%B6%E4%BA%A4%E4%BA%92%E6%95%88%E5%BA%94%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/">
                    多层模型及其交互效应入门教程
                </a>
            </div>
            
    </div>
</div>


<div class="related-posts">
    <div class="archive-post">
        <a href="#">Python数据科学技术交流QQ群:116384132</a>
    </div>
    <div class="archive-post">
        <a href="#">SPSS/Stata统计分析QQ群:572803384</a>
    </div>
    <div class="archive-post">
        <a href="#">如果你有其他有价值的群,想放到这里分享,可以联系我QQ675495787</a>
    </div>
</div>
<div class="related-posts">
    <h3>
        <a href="/tags/混合效应/">
            混合效应
        </a>
    </h3>
    <div class="page_list">
        
            <div class="archive-post">
                <a href="/2023/09/02/%E5%A4%9A%E5%B1%82%E6%A8%A1%E5%9E%8B%E5%8F%8A%E5%85%B6%E4%BA%A4%E4%BA%92%E6%95%88%E5%BA%94%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/">
                    多层模型及其交互效应入门教程
                </a>
            </div>
            
    </div>
</div>


<div class="related-posts hidden-sm-down">
    <h3>
        <a href="#">
            友商赞助
        </a>
    </h3>
    <div class="page_list">
        <div class="archive-post">
            <a target="_blank" rel="noopener" href="http://jupyter.cn">
                  问卷大全问卷案例下载
            </a>
            <a href="https://mlln.cn/2019/12/26/2020%E5%B9%B4%E5%A4%A7%E5%AD%A6%E7%94%9F%E6%AF%95%E4%B8%9A%E8%AE%BA%E6%96%87%E9%97%AE%E5%8D%B7%E4%BA%92%E5%A1%AB%E7%BE%A4%E6%8E%A8%E8%8D%90/">
                大学生互填问卷群推荐
            </a>
        </div>
    </div>
</div>
    </div>
</div>



</div>

<!-- Footer -->
<div class="push"></div>

<footer class="footer-content">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-3 col-lg-3 footer-about">
                <h2>About</h2>
                <p>
                    这是<code>xxxspy</code>的个人博客
                </p>
            </div>
            
    <div class="col-xs-6 col-sm-6 col-md-3 col-lg-3 recent-posts">
        <h2>Recent Posts</h2>
        <ul>
            
            <li>
                <a class="footer-post" href="/2025/02/26/%E9%9A%8F%E6%9C%BA%E6%88%AA%E8%B7%9D%E4%BA%A4%E5%8F%89%E6%BB%9E%E5%90%8E%E9%9D%A2%E6%9D%BF%E6%A8%A1%E5%9E%8B%E9%99%84mplus%E4%BB%A3%E7%A0%81%E5%92%8Clavaan%E4%BB%A3%E7%A0%81/">随机截距交叉滞后面板模型附mplus代码和lava</a>
            </li>
            
            <li>
                <a class="footer-post" href="/2025/02/24/%E5%A4%9A%E5%B1%82%E7%BA%BF%E6%80%A7%E6%A8%A1%E5%9E%8BSPSS%E6%95%99%E7%A8%8B%E9%99%84%E8%A7%86%E9%A2%91%E6%95%99%E7%A8%8B/">多层线性模型SPSS教程附视频教程</a>
            </li>
            
            <li>
                <a class="footer-post" href="/2025/02/21/mplus%E5%81%9A%E6%B7%B7%E5%90%88%E5%A2%9E%E9%95%BF%E6%A8%A1%E5%9E%8BGMM%E6%97%B6%E6%B2%A1%E6%9C%89%E8%BE%93%E5%87%BACFI%E7%AD%89%E6%8B%9F%E5%90%88%E6%8C%87%E6%A0%87/">mplus做混合增长模型GMM时没有输出CFI等拟</a>
            </li>
            
            <li>
                <a class="footer-post" href="/2025/02/18/%E6%B7%B7%E5%90%88%E5%A2%9E%E9%95%BF%E6%A8%A1%E5%9E%8BGMM%E6%A1%88%E4%BE%8B%E6%95%99%E7%A8%8B%E8%A7%A3%E8%AF%BBMplus%E4%BB%A3%E7%A0%81/">混合增长模型GMM案例教程解读Mplus代码</a>
            </li>
            
            <li>
                <a class="footer-post" href="/2025/02/17/%E4%BD%BF%E7%94%A8%E6%BD%9C%E5%8F%98%E9%87%8F%E6%B7%B7%E5%90%88%E5%A2%9E%E9%95%BF%E6%A8%A1%E5%9E%8B%EF%BC%88GMM%EF%BC%89%E5%AE%9E%E7%94%A8%E6%8C%87%E5%8D%97/">使用潜变量混合增长模型（GMM）实用指南</a>
            </li>
            
            <li>
                <a class="footer-post" href="/2025/02/04/%E8%AE%A1%E9%87%8F%E7%BB%8F%E6%B5%8E%E5%AD%A6%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%8D%9A%E5%A3%AB%E6%AF%95%E4%B8%9A%E6%89%80%E6%9C%89%E6%95%99%E7%A8%8B%E4%BB%A3%E7%A0%81PPT%E8%A7%86%E9%A2%91%E8%B5%84%E6%BA%90%E4%B8%8B%E8%BD%BD/">计量经济学从入门到博士毕业所有教程代码PPT视频资</a>
            </li>
            
            <li>
                <a class="footer-post" href="/2024/12/22/%E5%85%B1%E5%90%8C%E6%96%B9%E6%B3%95%E5%81%8F%E5%B7%AE%E7%9A%84%E7%B1%BB%E5%9E%8B%E5%92%8C%E6%A3%80%E9%AA%8C%E6%96%B9%E6%B3%95/">共同方法偏差的类型和检验方法</a>
            </li>
            
            <li>
                <a class="footer-post" href="/2024/11/12/Meta%E5%88%86%E6%9E%90%E4%BB%A3%E5%81%9A-%E4%BB%8E%E6%89%BE%E6%95%B0%E6%8D%AE%E5%88%B0%E5%87%BA%E6%8A%A5%E5%91%8A/">Meta分析-从找数据到出报告</a>
            </li>
            
            <li>
                <a class="footer-post" href="/2024/11/07/SPSS%E5%81%9AMeta%E5%88%86%E6%9E%90%E5%8E%9F%E6%9D%A5%E8%BF%99%E4%B9%88%E7%AE%80%E5%8D%95-%E6%95%99%E7%A8%8B%E5%A6%82%E4%B8%8B/">SPSS做Meta分析原来这么简单-教程如下</a>
            </li>
            
            <li>
                <a class="footer-post" href="/2024/11/07/SPSS%E5%81%9AMeta%E5%88%86%E6%9E%90%E5%8E%9F%E6%9D%A5%E8%BF%99%E4%B9%88%E7%AE%80%E5%8D%95-%E6%95%99%E7%A8%8B%E5%A6%82%E4%B8%8B/SPSS%E5%81%9AMeta%E5%88%86%E6%9E%90%E5%8E%9F%E6%9D%A5%E8%BF%99%E4%B9%88%E7%AE%80%E5%8D%95-%E6%95%99%E7%A8%8B%E5%A6%82%E4%B8%8B/">SPSS做Meta分析原来这么简单-教程如下</a>
            </li>
            
        </ul>
    </div>



            
<div class="col-xs-6 col-sm-6 col-md-6 col-lg-6 footer-tags">
    <h2>tags</h2>
    <ul>
        
        <span>
            <a class="footer-post" href="/tags/%E6%8A%A5%E5%91%8A%E7%B3%BB%E7%BB%9F/">报告系统</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/%E6%96%87%E6%9C%AC%E6%8C%96%E6%8E%98/">文本挖掘</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/spss/">spss</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/%E9%97%AE%E5%8D%B7%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/">问卷数据分析</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/amos/">amos</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/%E5%85%B1%E5%90%8C%E6%96%B9%E6%B3%95%E5%81%8F%E5%B7%AE/">共同方法偏差</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/python/">python</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/manim/">manim</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/">数据分析</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/%E6%95%99%E7%A8%8B/">教程</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/%E4%BF%A1%E5%BA%A6%E5%88%86%E6%9E%90/">信度分析</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/SPSS/">SPSS</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/%E6%95%88%E5%BA%A6%E5%88%86%E6%9E%90/">效度分析</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/%E9%97%AE%E5%8D%B7%E4%BA%92%E5%A1%AB/">问卷互填</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/%E9%97%AE%E5%8D%B7%E6%98%9F/">问卷星</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/%E9%97%AE%E5%8D%B7%E4%BB%A3%E5%A1%AB/">问卷代填</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/conda/">conda</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/%E9%97%AE%E5%8D%B7%E7%BD%91/">问卷网</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/apim/">apim</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/mplus/">mplus</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/numpy/">numpy</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/excel/">excel</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/datanitro/">datanitro</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/VBA/">VBA</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/%E7%BB%93%E6%9E%84%E6%96%B9%E7%A8%8B/">结构方程</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/smartpls/">smartpls</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/">深度学习</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/%E6%B8%B8%E6%88%8F/">游戏</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/%E6%8D%A2%E8%84%B8/">换脸</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/django/">django</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/EM/">EM</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/eprime/">eprime</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/%E6%8E%A8%E8%8D%90%E4%B9%A6/">推荐书</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/JSONSchema/">JSONSchema</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/%E5%8D%A1%E6%96%B9%E6%A3%80%E9%AA%8C/">卡方检验</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/javascript/">javascript</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/jupyter/">jupyter</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/R/">R</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/%E8%B0%83%E8%8A%82%E6%95%88%E5%BA%94/">调节效应</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/process/">process</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/MathJax/">MathJax</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/Latex/">Latex</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/meta%E5%88%86%E6%9E%90/">meta分析</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/Lpa/">Lpa</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/%E6%BD%9C%E5%9C%A8%E6%88%AA%E9%9D%A2%E5%88%86%E6%9E%90/">潜在截面分析</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/lca/">lca</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/mysql/">mysql</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/%E6%98%BE%E8%91%97%E6%80%A7/">显著性</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/">机器学习</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/">人工智能</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/Q-learning/">Q-learning</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/R%E8%AF%AD%E8%A8%80/">R语言</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/r/">r</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/Clinical-Decision-Making/">Clinical Decision Making</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/Forest-Plot/">Forest Plot</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/Effect-Size/">Effect Size</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/statsmodels/">statsmodels</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/tamplermonkey/">tamplermonkey</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/tensorflow-js/">tensorflow.js</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/tensorflow/">tensorflow</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/%E4%BD%9C%E6%96%87%E8%AF%84%E5%88%86/">作文评分</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/t%E6%A3%80%E9%AA%8C/">t检验</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/%E6%96%B9%E5%B7%AE%E5%88%86%E6%9E%90/">方差分析</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/%E8%87%AA%E7%84%B6%E8%AF%AD%E8%A8%80%E5%A4%84%E7%90%86/">自然语言处理</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/NLP/">NLP</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/%E8%AF%AD%E6%96%99%E5%BA%93/">语料库</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/nodejs/">nodejs</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/electron/">electron</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/e-prime/">e-prime</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/gensim/">gensim</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/%E6%91%98%E8%A6%81%E7%94%9F%E6%88%90/">摘要生成</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/gitlab/">gitlab</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/git/">git</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/heckman/">heckman</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/gui/">gui</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/jamovi/">jamovi</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/notebook/">notebook</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/keras%E6%95%99%E7%A8%8B/">keras教程</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/keras%E5%9F%BA%E7%A1%80/">keras基础</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/mongodb/">mongodb</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/jieba/">jieba</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/mongoengine/">mongoengine</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/sem/">sem</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/%E4%B8%AD%E4%BB%8B%E6%95%88%E5%BA%94/">中介效应</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/GMM/">GMM</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/%E6%B7%B7%E5%90%88%E5%A2%9E%E9%95%BF%E6%A8%A1%E5%9E%8B/">混合增长模型</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/%E7%BA%B5%E5%90%91%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/">纵向数据分析</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/Mplus/">Mplus</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/%E6%BD%9C%E5%9C%A8%E7%B1%BB%E5%88%AB%E5%88%86%E6%9E%90/">潜在类别分析</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/icc/">icc</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/cfa/">cfa</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/nginx/">nginx</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/networkx/">networkx</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/officejs/">officejs</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/p5-js/">p5.js</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/dataframe/">dataframe</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/pandas/">pandas</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/psychopy/">psychopy</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/%E4%B8%8B%E8%BD%BD/">下载</a>
        </span>
        
        <span>
            <a class="footer-post" href="/tags/%E7%BD%91%E7%9B%98/">网盘</a>
        </span>
        
    </ul>
</div>

            
        </div>
        <!-- links -->

<div class="row">
    <div class="col-xs-6 col-sm-6 col-md-3 col-lg-3 footer-about">
        <h2>Links</h2>
        <ul>
            
                <span> | </span><a class="footer-post" href="http://mlln.cn/baidusitemap.xml" target="_blank">网站地图</a><span> | </span>
            
                <span> | </span><a class="footer-post" href="http://mlln.cn/sitemap.xml" target="_blank">DataScience</a><span> | </span>
            
        </ul>
    </div>
</div>



        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <ul class="list-inline footer-social-icons">
                    
                    <li class="list-inline-item">
                        <a target="_blank" rel="noopener" href="https://github.com/xxxspy">
                            <span class="footer-icon-container">
                                <i class="fa fa-github"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    <li class="list-inline-item">
                        <a href="mailto:675495787@qq.com">
                            <span class="footer-icon-container">
                                <i class="fa fa-envelope-o"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="\#">
                            <span class="footer-icon-container">
                                <i class="fa fa-rss"></i>
                            </span>
                        </a>
                    </li>
                    
                </ul>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <div class="footer-copyright">
                    @感谢github免费托管，hexo的静态网站引擎和模板主题制作者<a target="_blank" rel="noopener" href="http://www.codeblocq.com/">Jonathan Klughertz</a>
                    <br/>
                    <a target="_blank" rel="noopener" href="http://www.beian.miit.gov.cn">京ICP备16033873号-2</>
                </div>
            </div>
        </div>
    </div>
</footer>

<!-- After footer scripts -->

<!-- jQuery -->
<script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>

<!-- tweenmax -->
<script src="/js/TweenMax.min.js">

<!-- Gallery -->
<script src="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.js" type="text/javascript" charset="utf-8"></script>

<!-- bootstrap.js -->
<script src="https://cdn.bootcss.com/popper.js/1.12.3/umd/popper.min.js" integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh" crossorigin="anonymous"></script>
<script src="https://cdn.bootcss.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script>

<!-- Custom JavaScript -->

<script src="/js/main.js"></script>


<!-- Baidu link push -->
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>

<!-- baidu_static -->

	<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?588f06b88af0ef575445f53432cd15ec";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>







</body>

</html>