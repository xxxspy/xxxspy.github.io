(window["webpackJsonpmplus-output-viewer"]=window["webpackJsonpmplus-output-viewer"]||[]).push([[0],{131:function(e,t,n){e.exports=n(263)},262:function(e,t,n){},263:function(e,t,n){"use strict";n.r(t);var r=n(17),a=n.n(r),u=n(9),o=n(0),l=n.n(o),i=n(268),c=n(10),s=n.n(c),f=function(e){var t=e.mplusOutput,n=e.handlePageChange,r=e.page;if(null===t)return"";var a={margin:"0.5%",fontSize:"80%"},u={margin:"0.5%",fontSize:"80%",border:"3px solid white"};return l.a.createElement("div",{style:{backgroundColor:"black",position:"fixed",width:"100%",zIndex:999,top:0}},l.a.createElement(i.a,{href:"https://mlln.cn/",variant:"danger"},"DataSense\u9996\u9875"),[{page:"wholeoutput",label:"Whole output"},{page:"modelfitinformation",label:"Model information"},{page:"modelresults",label:"Model results"},{page:"stdmodelresults",label:"Standardized model results"},{page:"residualoutput",label:"Residual output"},{page:"modelmodificationindices",label:"Model modification indices"}].map(function(e){return l.a.createElement(i.a,{style:e.page===r?u:a,key:s()(),onClick:function(){return n(e.page)}},e.label)}),l.a.createElement(i.a,{variant:"info",href:"https://mlln.cn/img/%E6%94%B6%E6%AC%BE%E4%BA%8C%E7%BB%B4%E7%A0%81.png"},"\u6253\u8d4f"))},p=function(e){for(var t=e.regex,n=0,r=[],a="";null!==(a=t.exec(e.string));)r.push({result:a[0],id:"C"+n,contentStart:a.index+a[0].length,start:a.index}),n++;return{occurances:r,string:e.string}},m=function(e){var t=e.occurances;t[t.length-1].end=e.string.length;for(var n=t.length-2;n>=0;n--)t[n].end=t[n+1].start-1;return e.occurances=t,e},d=function(e){var t=e.occurances,n=e.string,r=[];for(var a in t){var u=t[a];r.push({header:u,id:u.id,content:n.substring(u.contentStart,u.end).split("\n")})}return e.occurances=r,e},v=function(e){var t=p({string:e.string,start:0,chapters:[],regex:e.regex});return e.filteringRegex&&(t.occurances=t.occurances.filter(function(t){return!e.filteringRegex.test(t.result)})),t=m(t),d(t).occurances},h=function(e){var t=e[0].content.filter(function(e){return e.toLowerCase().indexOf("title:")>-1});return void 0===t?void 0:t[0]},g=function(e){var t=e.match(/(Number of groups[ ]+[0-9]{1,2})/);return null===t?void 0:1*t[0].replace(/[^0-9]/g,"")},b=n(274),O=function(e){var t={};try{t.chapters=v({string:e,regex:/(^[A-Z][A-Z 0-9-]+[A-Z]$)/gm,filteringRegex:/ (BY|WITH|ON)$/m}),t.title=h(t.chapters),t.NumberOfGroups=g(e)}catch(n){Object(b.a)("Error with extracting chapters: ",n)}return t},y=n(273),E=function(e){var t=e.handleFileLoad,n=e.showFileUpload,r=e.handleShowFileChange,a=Object(o.useState)("Drag an .out -file here"),c=Object(u.a)(a,2),s=c[0],f=c[1];if(!n)return"";var p={background:"#efefef",display:"flex",alignItems:"center",justifyContent:"center",border:"solid 3px transparent",transition:"all 250ms ease-in-out 0s",position:"relative",padding:"35px",fontSize:"120%"};return l.a.createElement(y.a,{show:!0,onHide:function(){return r()}},l.a.createElement(y.a.Header,null,l.a.createElement(y.a.Title,null,"Mplus output viewer")),l.a.createElement(y.a.Body,null,l.a.createElement("div",{className:"DropArea",style:p,onDrop:function(e){e.preventDefault(),e.stopPropagation();var n=e.dataTransfer.files[0];n.name.toLowerCase().match(/.out$/)?t(n):(alert("Not an .out -file!"),f("Drag an .out -file here"),e.target.style.border=p.border)},onDragEnter:function(e){e.preventDefault(),e.stopPropagation(),f("Drop file"),e.target.style.border="dashed black 3px"},onDragOver:function(e){e.preventDefault(),e.stopPropagation()},onDragLeave:function(e){e.preventDefault(),e.stopPropagation(),f("Drag an .out -file here"),e.target.style.border=p.border}},s)),l.a.createElement(i.a,{primary:"true",style:{margin:"1%"}},l.a.createElement("input",{id:"file-upload",type:"file",style:{display:"none"},onChange:function(e){return t(e.target.files[0])}}),l.a.createElement("label",{htmlFor:"file-upload",className:"custom-file-upload",style:{margin:"0px"}},"Or use the file explorer")))},w=n(269),j=n(13),x=n(272),k=n(68);function S(e,t){switch(t.type){case"show":return{display:"block",show:!0};case"hide":return{display:"none",show:!1};default:throw new Error}}var P=function(){return{display:"block",show:!0}},D=function(e){var t=e.options,n=e.handleListChange,r=Object(o.useReducer)(S,P),a=Object(u.a)(r,2),i=a[0],c=a[1];Object(o.useEffect)(function(){c({type:"hide"})},[]);var s=function(e){return t.selectedOptions.indexOf(e)>-1},f=function(e){var r=e.target.value,a=s(r)?t.selectedOptions.filter(function(e){return e!==r}):t.selectedOptions.concat(r);n({label:t.label,selectedOptions:a})},p=i?l.a.createElement(k.a,null):l.a.createElement(k.b,null);return l.a.createElement("div",{className:"buttonContainer"},l.a.createElement("button",{style:{border:"none",borderRadius:"5px",backgroundColor:"white",padding:"3px",margin:"2px"},onClick:function(){i.show?c({type:"hide"}):c({type:"show"})}},t.label,p),l.a.createElement("div",{style:{position:"absolute",backgroundColor:"white",padding:10,border:"1px solid black",boxShadow:"1px 1px"},className:"hidden"},l.a.createElement("button",{style:{border:"1px solid black",backgroundColor:"white",marginBottom:"10px"},onClick:function(){n({label:t.label,selectedOptions:t.selectedOptions===t.values?[]:t.values})}},"(De-)select all"),t.values.map(function(e,t){var n=s(e);return l.a.createElement("div",{key:t+e},l.a.createElement("input",{type:"checkbox",checked:n,onChange:f,value:e}),e)})))},A=function(e){var t,n,r,a=function(e){var t,n,r;t=e.headers,n=e.data,r=e.delimiter||";";var a="";return a+=t.join(r)+"\n",a+=n.map(function(e){return Array.isArray(e),e.join(r)}).map(function(e){return e.replace(/(\r\n|\n|\r)/gm,"")}).join("\n")}(e);null!==a&&(n=e.filename||"export.csv",a.match(/^data:text\/csv/i)||(a="data:text/csv;charset=utf-8,"+a),t=encodeURI(a),(r=document.createElement("a")).setAttribute("href",t),r.setAttribute("download",n),r.click())},C=function(e){var t=e.params;e.float;if(null===t)return"";var n=t.data,r=t.headers;return l.a.createElement(i.a,{style:{margin:"0.5%",float:"right",fontSize:"75%",padding:3},primary:"true",onClick:function(){console.log("downloading ",n),A({data:n,headers:r})}},"Download as CSV")};function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var T=function(e){var t=e.headers,n=e.cells,r=Object(o.useState)({}),a=Object(u.a)(r,2),i=a[0],c=a[1],f={padding:2},p=function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(n,!0).forEach(function(t){Object(j.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},i);t[e.label]=e,c(t)};return l.a.createElement("div",null,l.a.createElement(C,{params:{data:n,headers:t.map(function(e){return e.label})}}),l.a.createElement(x.a,{style:{fontSize:"75%",padding:"1px"}},l.a.createElement("thead",null,l.a.createElement("tr",null,t.map(function(e){if(void 0!==e.values){var t=void 0!==i[e.label]?i[e.label].selectedOptions:e.values;return l.a.createElement(D,{options:{label:e.label,selectedOptions:t,values:e.values},handleListChange:p})}return e.label}).map(function(e){return l.a.createElement("th",{key:s()(),style:f},e)}))),l.a.createElement("tbody",null,n.filter(function(e){for(var n,r,a=!0,u=0;u<t.length;u++)r=t[u],n=i[r.label],void 0!==i[r.label]&&-1===n.selectedOptions.indexOf(e[r.index])&&(a=!1);return a}).map(function(e,t){return function(e,t){var n=t%2===0,r={backgroundColor:n?"rgba(185, 186, 187, 0.13)":"",color:n?"black":""};return l.a.createElement("tr",{key:s()(),style:r},e.map(function(e){return l.a.createElement("td",{key:s()(),style:f},e)}))}(e,t)}))))},L=n(69),M=function(e){var t=e.reduce(function(e,t){return e[t]=1,e},{});return Object.getOwnPropertyNames(t)},N=function(e){return e.replace(/^[ ]{1,}/,"").replace(/[ ]{1,}$/,"")},R=function(e){var t=e.reduce(F,{});return Object.entries(t).map(function(e){return e[1]})},F=function(e,t){var n=t.rows.join("_");return void 0===e[n]?e[n]={rows:t.rows,values:[{column:t.column,values:t.value}]}:e[n].values.push({column:t.column,values:t.value}),e},z=function(e){for(var t=e.cell,n=e.headercount;t.keys.length+t.values.length<n;)t.values.push("");return t},Z=function(e){var t=p({string:e.content.join("\n"),start:0,chapters:[],regex:/(.+[A-Za-z]$)/gm});t=m(t);var n=d(t).occurances.map(function(e){return function(e){var t=e.content.map(function(e){return e.split(/([A-Z_\-0-9.$]+)/).filter(function(e){return/[A-Z0-9]/.test(e)})}).filter(function(e){return e.length>0});return t.map(function(t){return function(e,t){var n={};return n.keys=[t,e[0]],e.splice(0,1),n.values=e,n}(t,e.header.result)})}(e)});return n=n.map(function(t){return t.map(function(t){return function(e,t){return e.keys=[t].concat(e.keys),e}(t,e.header.result)})})},$=function(e){var t,n=e.chapters,r=e.headerToFind,a=e.tableheaders,u=e.NumberOfGroups;if(void 0===n|null===n)throw new Error("MODEL RESULTS chapter not found!");var o=n.find(function(e){return e.header.result===r});if(void 0!==u&u>1){t=(t=v({string:o.content.join("\n"),regex:/Group [A-Z_]+$/gm}).map(function(e){return Z(e)}).map(function(e){return e.flat()}).flat()).map(function(e){return z({cell:e,headercount:a.length})})}else{t=(t=Z(o).map(function(e){return e.flat()}).flat()).map(function(e){return z({cell:e,headercount:a.length})})}return t},G=function(e,t){var n=t.keys.slice(1,3).join("");return void 0===e[n]?e[n]={keys:t.keys.slice(1,3),values:[{group:t.keys[0],values:t.values}]}:e[n].values.push({group:t.keys[0],values:t.values}),e},U=function(e){var t=e.cells,n=e.variables,r=Object.values(t.reduce(G,{}));return r=n.map(function(e,t){return r.map(function(n){return function(e,t,n){return e.values.map(function(r){return{keys:e.keys.concat(t),group:r.group,value:r.values[n]}})}(n,e,t)})}).flat()},B=function(e){var t=e.message,n=e.type;return l.a.createElement(w.a,null,l.a.createElement(b.a,{variant:n||"danger"},t))},H=function(e,t){var n=["Estimate","S.E.","Est/S.E.","P-Value"],r=["Column1","Column2","Column3"].concat(n),a=e.parsed,u="standardized"===t?"STANDARDIZED MODEL RESULTS":"MODEL RESULTS",o=$({chapters:a.chapters,headerToFind:u,tableheaders:r,NumberOfGroups:a.NumberOfGroups});return{header:u,cells:U({cells:o,variables:n})}},V=function(e){var t,n=e.mplusOutput,r=e.show,a=e.type;if(null===n||!r)return"";try{t=H(n,a)}catch(c){return l.a.createElement(B,{message:"Error with parsing model results: "+c.message})}var u=M(t.cells.flat().map(function(e){return e.group})),o=t.cells,i=[{label:"Parameter header",index:0,values:M(o.flat().map(function(e){return e.keys[0]}))},{label:"Parameter",index:1,values:M(o.flat().map(function(e){return e.keys[1]}))},{label:"Statistic",index:2,values:M(o.flat().map(function(e){return e.keys[2]}))}];i=i.concat(u.map(function(e){return{label:e}}));return l.a.createElement(w.a,null,l.a.createElement("div",{style:{float:"left"}},t.header),l.a.createElement(T,{cells:o.map(function(e){return e[0].keys.concat(e.map(function(e){return e.value}))}),headers:i}))},_=n(270),Y=n(271),J=function(e){var t=e.mplusOutput,n=e.show,r=Object(o.useState)(["THE MODEL ESTIMATION TERMINATED NORMALLY"]),a=Object(u.a)(r,2),i=a[0],c=a[1];if(null===t||!n)return"";var f=null===t?[]:t.parsed.chapters.map(function(e){return e.header.result}),p=t.parsed.chapters,m=function(e){return i.indexOf(e)>-1},d=function(e){var t,n=e.target.value;c(m(t=n)?i.filter(function(e){return e!==t}):i.concat(t))};return l.a.createElement("div",{style:{width:"100%"}},l.a.createElement(_.a,null,l.a.createElement(Y.a,{xs:4},l.a.createElement("div",{style:{position:"fixed",marginLeft:"5%",marginTop:"2%"}},l.a.createElement("div",{style:{fontSize:"65%"}},l.a.createElement("input",{type:"checkbox",onClick:function(){i.length!==f.length?c(f):c([])}}),i.length!==f.length?"SELECT ALL":"DESELECT ALL"),f.map(function(e){var t=m(e);return l.a.createElement("div",{key:s()(),style:{fontSize:"65%"}},l.a.createElement("input",{type:"checkbox",checked:t,onChange:d,value:e}),e)}))),l.a.createElement(Y.a,{xs:8},p.map(function(e,t){return function(e,t){var n={whiteSpace:"pre-wrap",fontFamily:"Consolas",fontSize:"70%",display:m(e.header)?"":"none"},r="<h6>"+e.header+"</h6>\n<div>"+e.content+"</div>";return l.a.createElement("div",{key:s()()},l.a.createElement("div",{style:n,dangerouslySetInnerHTML:{__html:r}}))}({content:e.content.join("\n"),header:e.header.result})}))))},K=function(e){var t=e.header.result;return e.content.map(function(e){var n=N(e).split(/[ ]{2,}/),r=N(n[0]);return{header:t,statistic:r,value:1===n.length?-1:n.slice(1).map(function(e){return N(e)}).join(", ")}})},W=function(e){var t={string:e.content.join("\n"),regex:/^[A-Z*].+$/gm},n=v(t);return(n=(n=n.filter(function(e){return"*"!==e.header.result.substring(0,1)})).map(function(e){return e.content=e.content.filter(function(e){return e.length>1}),0===e.content.length&&(e.content=[e.header.result],e.header.result=N(e.header.result.replace(/[0-9]{1,}/,""))),e})).map(K).flat()},X=function(e){var t,n=e.mplusOutput,r=e.show;if(null===n||!r)return"";try{t=W(n.parsed.chapters.find(function(e){return"MODEL FIT INFORMATION"===e.header.result}))}catch(u){return l.a.createElement(B,{message:"Error with parsing model fit information: "+u.message})}var a=[{label:"Statistic group",index:0,values:M(t.map(function(e){return e.header}))},{label:"Statistic",index:1},{label:"Value",index:2}];return l.a.createElement(w.a,null,l.a.createElement("div",{style:{float:"left"}},"MODEL FIT INFORMATION"),l.a.createElement(T,{cells:t.map(function(e){return[e.header,e.statistic,e.value]}),headers:a}))};function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(n,!0).forEach(function(t){Object(j.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ee=function(e){var t={string:e.content.join("\n"),regex:/[A-Z][a-z][a-zA-Z/ ()\\-]{1,}$/gm},n=v(t),r=/FOR (.+$)/.exec(e.header.result);null!==r&&(r=r[1],n=n.map(function(e){return Q({},e,{group:r})}));var a=function(e){return/Residuals.+for Means/.test(e.header.result)|e.header.result.indexOf("Model Estimated Means")>-1},u=n.filter(a).map(ne),o=n.filter(function(e){return!a(e)});return o=o.map(function(e){return Q({},e,{key:e.header.result})}),{means:u,covariances:re(o).map(function(e){return{header:e.header,key:e.header,content:e.content.map(function(e){var t=ae(e);return ue(t)}).flat().map(function(e){return Q({},e,{group:r,keys:e.keys})})}})}},te=function(e){var t=e.content.filter(function(e){return""!==e}),n=/FOR ([^ ]+)$/.exec(e.header.result);n=n?n[1]:"Unknown group";var r=/Variable.+Observed/,a=t.find(function(e){return e.match(r)}),u=t.filter(function(e){return!e.match(r)}),o=(u=u.filter(function(e){return e.match(/[A-Za-z0-9]/)})).map(function(e){return e.split(" ").findIndex(function(e){return""!==e})}).reduce(function(e,t){return t<e?t:e}),l=(u=u.map(function(e){return{content:e,subtableHeader:e.split(" ").findIndex(function(e){return""!==e})===o}})).reduce(function(e,t){return t.subtableHeader?e.concat([{header:t.content.replace(/^[ ]+/,""),rows:[]}]):(e[e.length-1].rows.push(t),e)},[]).map(function(e){var t=[n,e.header];return e.rows.map(function(e){var n=e.content.replace(/Category[ ]+([0-9]?)/,"Category$1");return t.concat(n.split(/[ ]+/gi).filter(function(e){return""!==e}))})});return{headers:a.split(/[ ]{2,}/g).filter(function(e){return""!==e}),cells:l}},ne=function(e){var t=e.content.filter(function(e){return/[^ ]/.test(e)}).map(function(e){return e.split(" ").filter(function(e){return e.length>1})}).map(function(e){return e.filter(function(e){return/[0-9A-Z]/.test(e)})}).filter(function(e){return e.length>0});return t[0].map(function(n,r){return{parameter:n,value:t[1][r],group:e.group,statistic:e.header.result}})},re=function(e){return Object.entries(e.reduce(function(e,t){var n=t.key;return void 0===e[n]?e[n]={header:n,content:[t.content]}:e[n].content.push(t.content),e},{})).map(function(e){return e[1]})},ae=function(e){var t=(e=e.filter(function(e){return e.replace("\r","").length>0})).findIndex(function(e){return/^[_ \r]*$/.test(e)});return{columns:e[t-1].split(/[ ]{1,}/).filter(function(e){return e.length>1}),body:e.slice(t+1)}},ue=function(e){var t=e.body,n=e.columns;return t.filter(function(e){return/[0-9]/.test(e)}).map(function(e){return e.split(/[ ]{1,}/).filter(function(e){return e.length>0})}).map(function(e){var t=e[0];return e.slice(1).map(function(e,r){return{rowKey:t,colKey:n[r],keys:[t,n[r]],value:e}})}).flat()},oe=function(e){var t={string:e.chapter.content.join("\n"),regex:e.NumberOfGroups>1?/^[A-Z ()-]{2,}FOR.+$/gm:/^[A-Z ()-]+$/gm},n=v(t),r=n.filter(function(e){return e.header.result.indexOf("ESTIMATED MODEL AND RESIDUAL")>-1}),a=n.filter(function(e){return-1===e.header.result.indexOf("ESTIMATED MODEL AND RESIDUAL")}),u=r.map(ee),o=void 0;if(a.length>0){var l=a.map(te).reduce(function(e,t){return e?Q({},e,{cells:e.cells.concat(t.cells)}):t},void 0);o=Q({},l,{cells:l.cells.flat()})}return{means:u.map(function(e){return e.means.flat()}).flat(),covariances:re(u.map(function(e){return e.covariances}).flat()),univariateProportions:o}};function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var ie=function(e,t){var n=e.content.flat().map(function(e){return{column:e.group,rows:e.keys,value:e.value}}),r=R(n),a=[{label:"Parameter 1",index:0,values:M(n.map(function(e){return e.rows[0]}))},{label:"Parameter 2",index:1,values:M(n.map(function(e){return e.rows[1]}))}].concat(t.map(function(e){return{label:e}}));return l.a.createElement("div",{key:s()()},l.a.createElement("h3",null,e.header),l.a.createElement(T,{cells:r.map(function(e){return e.rows.concat(e.values.map(function(e){return e.values}))}),headers:a}))},ce=function(e){var t=e.mplusOutput,n=e.show;if(null===t||!n||void 0===t)return"";var r=void 0;try{r=oe({chapter:t.parsed.chapters.find(function(e){return"RESIDUAL OUTPUT"===e.header.result}),NumberOfGroups:t.parsed.NumberOfGroups})}catch(s){return l.a.createElement(B,{message:"Error with parsing residual output: "+s.message})}var a=M(r.means.map(function(e){return e.group}));a.length>0||(a=["Value"]);var u=[{label:"Statistic",index:0,values:M(r.means.map(function(e){return e.statistic}))},{label:"Parameter",index:1,values:M(r.means.map(function(e){return e.parameter}))}];u=u.concat(a.map(function(e){return{label:e}})),r.means=r.means.map(function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(n,!0).forEach(function(t){Object(j.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,{rows:[e.statistic,e.parameter],column:e.group})});var o=R(r.means),i=0===r.means.length?"":l.a.createElement("div",null,l.a.createElement("h3",null,"Estimates and residuals for Means/Intercepts/Tresholds"),l.a.createElement(T,{cells:o.map(function(e){return e.rows.concat(e.values.map(function(e){return e.values}))}),headers:u})),c=function(e){if(void 0===e)return"";var t=[{label:"Group",index:0,values:a},{label:"Variable",index:1,values:M(e.cells.map(function(e){return e[1]}))},{label:"Category",index:1,values:M(e.cells.map(function(e){return e[2]}))}];return t=t.concat(e.headers.filter(function(e){return"Variable"!==e}).map(function(e){return{label:e}})),l.a.createElement("div",null,l.a.createElement("h3",null,"Univariate proportions for categorical variables"),l.a.createElement(T,{cells:e.cells,headers:t}))}(r.univariateProportions);return l.a.createElement(w.a,null,i,l.a.createElement("h2",null,"Covariance/Correlation tables"),r.covariances.map(function(e){return ie(e,a)}),l.a.createElement("h2",null),c)};function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(n,!0).forEach(function(t){Object(j.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var pe=function(e){var t=e.content.map(function(e){return e.split(/([0-9]+\.[0-9]+)/).filter(function(e){return/[A-Z0-9]/.test(e)}).map(function(e){return e.trim()})}).filter(function(e){return e.length>0});return t.map(function(t){return function(e,t){var n={};return n.keys=[t,e[0]],e.splice(0,1),n.values=e,n}(t,e.header.result)})},me=function(e){var t=e.chapter;if(!(1===e.NumberOfGroups|void 0===t|null===t)){var n=["M.I.","E.P.C.","Std E.P.C.","StdYX E.P.C."],r=t.content.find(function(e){return e.indexOf("Minimum M.I. value for printing the modification index")>-1});return{cells:v({string:t.content.join("\n"),regex:/Group [A-Z_]+$/gm}).map(function(e){return function(e){if(!e.content.find(function(e){return e.indexOf("No modification indices above the minimum value")>-1})){var t=e.header.result.replace("Group ","");e.content=e.content.filter(function(e){return e.length>1});var n=p({string:e.content.join("\n"),start:0,chapters:[],regex:/(.+[A-Za-z]$)/gm});n=m(n);var r=d(n).occurances.map(pe).flat().map(function(e){return fe({},e,{values:e.values.filter(function(e){return!/[^0-9.-]/.test(e)})})});return r=r.map(function(e){return fe({},e,{keys:[t].concat(e.keys)})})}}(e)}).filter(function(e){return void 0!==e}).flat().map(function(e){return fe({},e,{columns:n})}).map(function(e){return(t=e.columns,n=e.values,t.length!==n.length&&console.log("warning: array lengths differ in joinToArrays. Combining only lenght of shorter array."),(t.length<=n.length?Object(L.a)(t):Object(L.a)(n)).map(function(e,t){return[e,n[t]]})).map(function(t){return{keys:e.keys.concat(t[0]),value:t[1]}});var t,n}).flat(),minimumMIvalue:r}}};function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(n,!0).forEach(function(t){Object(j.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var he=function(e,t){console.log("idnices",e);var n=e.map(function(e){return ve({},e,{column:e.keys[0],rows:e.keys.slice(1)})});return n=(n=R(n)).map(function(e){var n=t.map(function(t){var n=e.values.find(function(e){return e.column===t});return void 0!==n?n:{column:t,value:null}});return ve({},e,{values:n})})},ge=function(e){var t,n=e.mplusOutput,r=e.show;if(void 0===n||null===n||!r)return"";try{t=me({chapter:n.parsed.chapters.find(function(e){return"MODEL MODIFICATION INDICES"===e.header.result}),NumberOfGroups:n.parsed.NumberOfGroups})}catch(i){return l.a.createElement(B,{message:"Error with parsing model mod. indices: "+i.message})}if(void 0===t)return l.a.createElement(B,{type:"warning",message:"No model modification indices to display"});console.log("modelIndices",t);var a=M(t.cells.map(function(e){return e.keys[0]})),u=he(t.cells,a),o=[{label:"Subtable header",index:0,values:M(u.map(function(e){return e.rows[1]}))},{label:"Parameter",index:1,values:M(u.map(function(e){return e.rows[2]}))},{label:"Statistic",index:2,values:M(u.map(function(e){return e.rows[3]}))}];return o=o.concat(a.map(function(e){return{label:e}})),l.a.createElement(w.a,null,l.a.createElement("h3",null,"Model modification indices"),l.a.createElement("div",null,t.minimumMIvalue),l.a.createElement("div",null,"A group is not shown in the table if no modification indices are above the minimum value."),l.a.createElement(T,{cells:u.map(function(e){return e.rows.concat(e.values.map(function(e){return e.values}))}),headers:o}))},be=(n(262),function(){var e=Object(o.useState)(null),t=Object(u.a)(e,2),n=t[0],r=t[1],a=Object(o.useState)("wholeoutput"),i=Object(u.a)(a,2),c=i[0],s=i[1],p=Object(o.useState)(!0),m=Object(u.a)(p,2),d=m[0],v=m[1],h=d&null===n;return l.a.createElement("div",{style:{position:"relative"}},l.a.createElement(E,{handleFileLoad:function(e){var t=new FileReader;t.onload=function(){r({string:t.result,filename:e.name,parsed:O(t.result)})},t.readAsText(e,"ISO-881"),v(!1)},showFileUpload:h,handleShowFileChange:function(){return v(!1)}}),l.a.createElement(f,{mplusOutput:n,handlePageChange:function(e){s(e)},page:c}),l.a.createElement("div",{style:{zIndex:-1,marginTop:"5%"}},l.a.createElement(J,{show:"wholeoutput"===c,mplusOutput:n}),l.a.createElement(X,{show:"modelfitinformation"===c,mplusOutput:n}),l.a.createElement(V,{show:"modelresults"===c,mplusOutput:n}),l.a.createElement(V,{show:"stdmodelresults"===c,mplusOutput:n,type:"standardized"}),l.a.createElement(ce,{show:"residualoutput"===c,mplusOutput:n}),l.a.createElement(ge,{show:"modelmodificationindices"===c,mplusOutput:n})))});a.a.render(l.a.createElement(be,null),document.getElementById("root"))}},[[131,1,2]]]);
//# sourceMappingURL=main.9a0cb61f.chunk.js.map