<hr>
<p>title: 如何检验测量模型不变性在结构方程的多组比较中<br>date: 2024-04-23 08:39:21<br>tags:</p>
<ul>
<li>smartpls</li>
<li>sem</li>
<li>cfa<br>permalink: &#x2F;2024&#x2F;04&#x2F;23&#x2F;如何检验测量模型不变性在结构方程的多组比较中&#x2F;</li>
</ul>
<hr>
<p>结构方程的分组比较是一种统计方法，用于在多个不同群体或样本之间比较结构关系的一致性或差异。这种方法基于结构方程模型（SEM），通过对比不同组之间的标准化路径系数估计，来评估结构关系的稳定性和普遍性。通常当研究者想要考察调节效应的时候， 调节变量又是一个分类变量， 我们就会使用多组比较的方法，英文叫 Multigroup SEM。</p>
<!-- more -->

<p>这篇文章的主要内容是在pls-sem的前提下， 做多组比较， 重点是考察做多组比较之前 测量模型的不变性。</p>
<h2 id="为什么需要检验测量模型的不变性"><a href="#为什么需要检验测量模型的不变性" class="headerlink" title="为什么需要检验测量模型的不变性"></a>为什么需要检验测量模型的不变性</h2><p>在进行结构方程的分组比较时，通常遵循一定的步骤。首先，需要确保构念（composites）的测量在所有组中都是相同的，即满足构型不变性（configural invariance）， 说白了就是你的潜变量测量题目都应该是一样的， 反映水平也是一样的， 有些人不同组中的题目有的是7级计分， 有的是5级计分， 那是不可以的。 还有的情况下， 在A组中删除了某些题目， 在B组删除了另外一些题目， 这是不可以的， 必须保证两组题目一致性。</p>
<p>接下来，需要建立组合不变性（compositional invariance）。这意味着各组中的构念之间的关系模式应该是相同的，即因子载荷&#x2F;权重在各个组中是一致的。这是进一步比较各组之间路径系数的前提。</p>
<p>如果构型不变性和组合不变性都得到满足，那么可以认为部分测量不变性成立。在此基础上，研究者可以进一步比较各组中构念的均值和方差是否相等（第三步）。如果构念具有相等的均值和方差，则可以称为完全测量不变性。在这种情况下，研究者可以将不同组的数据合并成一个更大的数据集，从而增加统计效力和模型的泛化能力。 哪怕只尊村部分不变性， 我们仍然不希望各组的均值和方差变化太大， 如果两组均值和方差差异过大， 那么做多组比较的时候， 路径系数的差异可能没有意义， 哪怕得到显著的差异， 我们也不能排除均值和方差的影响。</p>
<p>然而，即使数据可以合并，研究者也必须注意潜在的结构模型差异。即使在测量不变性成立的情况下，不同组之间的结构关系仍可能存在异质性。因此，在合并数据进行分析时，研究者应考虑包括交互效应作为调节变量，以解释可能存在的结构异质性。</p>
<h2 id="检验测量模型不变的步骤"><a href="#检验测量模型不变的步骤" class="headerlink" title="检验测量模型不变的步骤"></a>检验测量模型不变的步骤</h2><img src="stepsForMI.png">

<img src="micomProcedure.png">

<h3 id="构型不变性-configural-invariance"><a href="#构型不变性-configural-invariance" class="headerlink" title="构型不变性 configural invariance"></a>构型不变性 configural invariance</h3><ul>
<li>两组有相同的量表（题目和反映水平）</li>
<li>两组有相同的数据清洗方法</li>
<li>两组有差不多大小的样本量</li>
</ul>
<h3 id="组合不变性-compositional-invariance"><a href="#组合不变性-compositional-invariance" class="headerlink" title="组合不变性 compositional invariance"></a>组合不变性 compositional invariance</h3><img src="correlationFormula.png">

<p>确保两组构念具有一致性， 这里我们用相关系数来表示， 如果两组构念的相关系数为1， 则可以认为满足组合不变性。</p>
<h3 id="构念的均值和方差是否相等"><a href="#构念的均值和方差是否相等" class="headerlink" title="构念的均值和方差是否相等"></a>构念的均值和方差是否相等</h3><p>很少有研究可以满足均值和方差的不变性， 两组数据变量越多， 这些潜变量（构念）之间越可能出现均值和方差的差异，<br>因此，这个结果虽然都需要汇报， 但是只要部分均值和方差达到组间不变性即可。</p>
<h2 id="smartplus做多组分析"><a href="#smartplus做多组分析" class="headerlink" title="smartplus做多组分析"></a>smartplus做多组分析</h2><h3 id="案例介绍"><a href="#案例介绍" class="headerlink" title="案例介绍"></a>案例介绍</h3><img src="model.png">

<p>这是我们用到的模型， 有三个构念， 有两个分组的样本（马来半岛和新加坡）， 我们需要根据下面的步骤做多组分析。</p>
<h3 id="分析构型不变性"><a href="#分析构型不变性" class="headerlink" title="分析构型不变性"></a>分析构型不变性</h3><p>根据上面的步骤， 你自行判断是否满足构型不变性。</p>
<h3 id="准备数据"><a href="#准备数据" class="headerlink" title="准备数据"></a>准备数据</h3><p>在进行多组分析（MGA）时，研究人员必须首先确定每个组中的观察数量是否满足最小样本量的经验法则。</p>
<p>根据使用R进行的统计效力分析，每组需要64个观察值，以便在5%的显著性水平和80%的统计力下检测到大约0.25的R2值。因此，马来半岛（n &#x3D; 139）和新加坡（n &#x3D; 109）的特定组样本量都被认为是足够大的，并且样本量大致相等。值得注意的是，这个数据集没有缺失值问题，也没有可靠性和有效性问题。</p>
<h3 id="导入数据并创建分组"><a href="#导入数据并创建分组" class="headerlink" title="导入数据并创建分组"></a>导入数据并创建分组</h3><p>在导入数据之前你确保已经把两组数据合并， 并使用一个分类变量作为两组的判断依据，在本案例中，<br>分类变量是“Regin”</p>
<img src="groupSeting.png">

<p>在smartpls中导入数据， 之后你打开数据，在数据的浏览页面可以找到 “Add Data Group”, “Generate Data Groups”, “Clear Data Groups”，<br>因为软件版本的不同， 可能有不同的结果。</p>
<p>我们需要使用 Generate Data Groups ， 看Panel B， Group Column 选择 Regin（这是我们的分组变量）。<br>创建好了就可以看到 Panel C中的结果。我们点击“edit”就可以编辑两个分组的名称， 看 panel D。</p>
<h3 id="检验-测量模型不变性-MICOM"><a href="#检验-测量模型不变性-MICOM" class="headerlink" title="检验 测量模型不变性 MICOM"></a>检验 测量模型不变性 MICOM</h3><p>做这一步之前你需要确保已经在smarpls中创建了分组变量（就是前面这一步）。 否则无法进行下面的步骤。</p>
<p>在 smartpls 中 找到菜单 “Calculate → Permutation”， 点击菜单， 打开如下对话框。</p>
<img src="micom.png">

<p>你需要指定比较的两组， 分别是Group A 和Group B， 看 Panel A。其他选项可以保持默认值， 然点击 “Start Calculation”。</p>
<p>输出的结果如图， Step 2 就是检验组合不变性， 即确保构念在不同组间的相关为1， 如果低于1， 但接近1也没有问题。<br>从结果 panel B 中可以看出， 我们的相关系数都是1 ， 满足组合不变性的前提， 所以我们的模型至少满足的部分测量模型不变性的要求。</p>
<p>再看 Panel C， 这里检验了均值和方差的不变性， 显然红色部分是出现组间差异的， 即不满足均值和方差不变性原则， 但是几乎有一半的均值和方差不存在组间差异。 因此我们可以说模型满足部分不变性， 但是不能说完全不变性。 这种结构能否进行组间比较？ 能！</p>
<h3 id="检验路径系数的组间差异"><a href="#检验路径系数的组间差异" class="headerlink" title="检验路径系数的组间差异"></a>检验路径系数的组间差异</h3><p>由于模型的数据满足部分不变性原则， 所以我们可以比较模型的结构部分， 即变量之间的路径系数，并且smartpls是标准化的路径系数， 我们可以直接比较。</p>
<p>打开“Final Results → Path Coefficients”， 你可以看到下面的表格， 他是比较每个路径系数的组间差异， 绿色部分就是出现了组间差异，<br>结论就是地区（Regin）的调节效应显著， 调节的路径是 “Subjective Norms -&gt; Attitude”</p>
<img src="pathCoeff.png">
